{"version":3,"sources":["logo.svg","components/DynamicFormEventOption/index.js","components/DynamicDropdown/index.js","utils.js","components/DynamicForm/index.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","Row","Grid","Col","eventDataSource","label","value","comparatorDataSource","DynamicFormEventOption","props","handleEventBehaviorChange","eventBehavior","eventInfo","state","setState","handleAddClick","key","Date","now","visible","comparator","disabled","handleDelClick","index","slice","formChange","handleEventDialogClose","handleOk","formEl","validateFields","onEventSave","every","it","item","handleClose","Message","warning","handleCancel","Dialog","show","title","content","onOk","dialogProps","onCancel","this","formData","editData","dataSource","editDataDataSource","editDataId","id","allElDataSource","Object","entries","filter","includes","map","fieldName","onChange","ref","el","className","length","style","textAlign","size","type","onClick","span","name","hiddenSelected","hasArrow","width","minWidth","required","message","mode","display","showSearch","Component","FormItem","Form","Item","CheckboxGroup","Checkbox","Group","Panel","Collapse","defaultFormItemLayout","labelCol","wrapperCol","nullToEmptyString","val","keys","reduce","x","y","Column","Table","commonSchema","component","Input","fieldLabel","Select","baseConfig","formList","formItemProps","placeholder","DynamicDropdown","eventDialogVisible","handleSave","errors","onConfigSave","path","onDropdownCancel","formDataList","values","isFieldNameDuplicate","find","success","handleEventSave","configSchema","formItemLayout","componentType","injectComponent","formSchemaDetail","componentEl","config","concat","formDataAll","anchorMenuArr","document","querySelectorAll","anchorMenuEl","getBoundingClientRect","eventOption","left","top","children","dataIndex","cell","color","Button","BoxContainer","defaultValue","format","TextArea","multiple","getFormSchema","showOtherFormSchemaDetail","otherFormSchemaDetail","hasClear","NumberPicker","console","log","renderSchema","formBinderEl","saveField","field","options","parseName","defaultExpandedKeys","Submit","validate","onClose","shouldUpdatePosition","defaultProps","mutate","stable","arr","comp","exec","a","b","String","localeCompare","len","buffer","Array","chk","pass","tmp","inplace","result","l","r","e","li","ri","i","dbl","defaults","navClass","contentClass","nested","nestedClass","offset","reflow","events","emitEvent","elem","detail","settings","event","CustomEvent","bubbles","cancelable","dispatchEvent","getOffsetTop","location","offsetParent","offsetTop","sortContents","contents","sort","item1","item2","isInView","bottom","scrollElement","bounds","scrollElementBounds","parseFloat","getOffset","documentElement","window","innerHeight","clientHeight","parseInt","getActive","last","element","scrollTop","scrollHeight","getScrollElementHeight","useLastItem","deactivate","items","nav","closest","classList","remove","deactivateNested","parentNode","link","params","fn","arg","assign","isArray","customJSONTransform","customJSON","defaultString","obj","JSON","parse","error","getChild","formObj","valueToValue","compareValue","returnVal","isMatchOneAndMore","param","matchArr","paramArr","comparatorCallback","matchArrItem","some","findIndex","TabItem","Tab","Popup","Overlay","renderType","editJSON","formBoxKey","rowHeight","isEditable","allFieldDisabled","canEditable","formBorder","customStyle","DFTextColorVal","DFTextFontWeightVal","DFTextFontStyleVal","DFTextTextDecorationVal","hidden","componentOtherPropsJSON","help","componentOtherProps","userDefinedWidth","labelName","itemDisabled","formItemOtherPropsJSON","formItemOtherProps","validateTipName","replace","trim","readOnly","itemDirection","formLabelAlign","labelWidth","customComponentOtherProps","customFormItemOtherProps","requiredMessage","eleMap","_Input","render","formItemProp","_Select","responseDataSource","filterLocal","requestUrl","handleEventChange","onSearch","handleSearch","El","labelWidthObj","classnames","labelAlign","handleMenuItemClick","formBoxData","selectedKey","yPositionArr","maxY","Math","max","addNewElItem","itemX","itemY","selectedFormBoxDataItem","layout","formWidth","cols","marginHorizontal","marginVertical","compactType","containerPaddingHorizontal","containerPaddingVertical","undefined","calcXY","dropEl","wrapper","layoutEl","getWidthColNum","containerItem","toString","elKey","ceil","calcGridAreaColWidth","calcColWidth","getRowHeight","height","getBaseEl","w","h","child","formMinW","formMinH","isUserMove","showFormName","formValue","formHeight","generateEl","Text","textContent","TextFormItem","Radio","DatePicker","Calculation","ScoreDialog","GroupArea","gridAreaBoxKey","Tips","Address","columns","CustomField","CustomRadioGroup","CustomCheckboxGroup","showMessage","removeItemFn","newFormData","newFormBoxData","newGroupAreaFormBoxData","confirm","handleGridItemClick","handleConfigSave","newEditJson","saveDynamicFormJSON","searchTimeout","clearTimeout","mainCode","queryParamsDataSource","getQueryOtherParams","setTimeout","response","delay","resp","mock","data","Promise","res","rej","then","preValue","handleEventDiffValueChange","currValue","delayTrigger","handleEventBehavior","triggerType","handleFormChange","newFormValue","forEach","bindVal","bindElId","bindEvent","currValueMatchBindVal","bindEventHandle","enabled","generateNewFormDataByEvents","clear","generateNewFormValueByEvents","requestUrlWithParams","generateNewFormBoxDataByEvents","elId","showRowHeight","eventType","bindElIdArr","localStorage","setItem","stringify","handleSaveClick","saveTypeMap","save","export","exportJson","blob","Blob","downloadLink","createElement","download","href","URL","createObjectURL","body","appendChild","click","import","beforeImport","file","resolve","reject","reader","FileReader","onload","_","readAsText","handleTabsChange","activeKey","initJSON","clipBoard","layoutCache","scoreObj","dynamicFormId","customItemContainerStyle","renderCompactType","visibleId","customItemContainerReactStyle","borderColor","data-dynamic-form-id","dynamicFormEl","shape","background","marginRight","onItemClick","onDragStart","dataTransfer","setData","draggable","unCheckedChildren","checkedChildren","v","margin","verticalAlign","trigger","ice","iconSize","hasMask","accept","beforeUpload","formDataItem","borderStyle","borderArr","isRender","settingColor","renderColor","borderMap","0","1","2","3","borderTransform","clearObj","dynamicReactGridItemStyle","customContainerStyle","App","Boolean","hostname","match","ReactDOM","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","catch"],"mappings":"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","file":"static/js/main.f4933713.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","import React, { Component } from 'react';\nimport {\n  Icon,\n  Dialog,\n  Message,\n  Select,\n  Grid,\n} from '@alifd/next';\n\n// import PropTypes from 'prop-types';\n\nimport {\n  FormBinderWrapper,\n  FormBinder,\n  FormError,\n} from '@icedesign/form-binder';\n\nimport './index.scss';\n\nconst { Row, Col } = Grid;\n\nconst eventDataSource = [\n  {\n    label: '清空表单',\n    value: 'clear',\n  },\n  {\n    label: '启用表单',\n    value: 'enabled',\n  },\n  {\n    label: '显示表单',\n    value: 'show',\n  },\n  {\n    label: '隐藏表单',\n    value: 'hidden',\n  },\n  {\n    label: '重新请求并携带 params',\n    value: 'requestUrlWithParams',\n  },\n];\n\nconst comparatorDataSource = [\n  {\n    label: '===',\n    value: '===',\n  },\n  {\n    label: '==',\n    value: '==',\n  },\n  {\n    label: '!==',\n    value: '!==',\n  },\n];\n\nclass DynamicFormEventOption extends Component {\n  constructor(props) {\n    super(props);\n    const {\n      eventInfo: {\n        eventBehavior = [],\n      } = {},\n    } = props;\n    this.state = {\n      eventInfo: {\n        eventBehavior,\n      },\n    };\n  }\n\n\n  componentDidMount() {\n  }\n\n  handleEventBehaviorChange = (eventBehavior) => {\n    const { eventInfo } = this.state;\n    this.setState({\n      eventInfo: {\n        ...eventInfo,\n        eventBehavior,\n      },\n    });\n  }\n\n  handleAddClick = () => {\n    const key = Date.now();\n    const {\n      eventInfo: {\n        eventBehavior = [],\n      } = {},\n    } = this.state;\n    this.handleEventBehaviorChange([\n      ...eventBehavior,\n      {\n        visible: true,\n        key,\n        comparator: '===',\n        disabled: false,\n      },\n    ]);\n  }\n\n  handleDelClick = (index) => {\n    // const { dataSource } = this.state;\n    const {\n      eventInfo: {\n        eventBehavior = [],\n      } = {},\n    } = this.state;\n    this.handleEventBehaviorChange(\n      [\n        ...eventBehavior.slice(0, index),\n        ...eventBehavior.slice(index + 1),\n      ]);\n  }\n\n  formChange = ({ eventBehavior }) => {\n    this.handleEventBehaviorChange(eventBehavior);\n  }\n\n  handleEventDialogClose = () => {\n\n  }\n\n  handleOk = () => {\n    const { validateFields } = this.formEl;\n    const { onEventSave } = this.props;\n\n    const {\n      eventInfo,\n      eventInfo: {\n        eventBehavior = [],\n      },\n    } = this.state;\n    // validateFields((error, values) => {\n    //   console.log(error, values);\n    if (eventBehavior.every(it => ['bindVal', 'bindElId', 'bindEvent'].every(item => it[item]))) {\n      onEventSave({\n        eventInfo,\n      });\n      this.handleClose();\n    } else {\n      Message.warning('请检查后提交');\n    }\n    // });\n  }\n\n  handleCancel = () => {\n    Dialog.show({\n      title: '取消编辑',\n      content: '是否取消编辑',\n      onOk: this.handleClose,\n    });\n  }\n\n  handleClose = () => {\n    const { dialogProps: { onCancel } = {} } = this.props;\n    onCancel();\n  }\n\n  render() {\n    const {\n      eventInfo = {},\n      eventInfo: {\n        eventBehavior = [],\n      } = {},\n      // value = [],\n    } = this.state;\n    const {\n      formData = {},\n      editData: {\n        dataSource: editDataDataSource = [],\n        id: editDataId,\n      },\n      dialogProps,\n    } = this.props;\n\n    // const allElDataSource = Object.keys(formData).filter(it => it !== editDataId);\n    const allElDataSource = Object.entries(formData)\n      .filter(it => it[0] !== editDataId && !it[1].id.includes('DFGroupArea'))\n      .map(it => ({\n        value: it[0],\n        label: ( \n          `${it[1].fieldName}  |  ${it[0]}`\n        ),\n      }));\n\n    return (\n      <Dialog\n        {...dialogProps}\n        onOk={this.handleOk}\n        onCancel={this.handleCancel}\n      >\n        <FormBinderWrapper\n          value={eventInfo}\n          onChange={this.formChange}\n          ref={(el) => { this.formEl = el; }}\n        >\n          <div className=\"dynamic-form-event-option\">\n            { eventBehavior.length === 0 && (\n              <div style={{ textAlign: 'center' }}>\n                添加事件\n                <Icon\n                  size=\"small\"\n                  type=\"add\"\n                  className=\"operation-icon\"\n                  onClick={() => this.handleAddClick(-1)}\n                />\n              </div>\n            )}\n            {\n              eventBehavior.map((item, index) => (\n                <Row key={item.key} className=\"dynamic-form-event-option-row\">\n                  {/* <Col span=\"5\" className=\"line-height-28\">\n                    显示\n                    <FormBinder\n                      name={`eventBehavior[${index}].visible`}\n                      valuePropName=\"checked\"\n                    >\n                      <Checkbox />\n                    </FormBinder>\n                  </Col> */}\n                  <Col className=\"option-input\" span=\"4\">\n                    比较符：\n                    <FormBinder\n                      name={`eventBehavior[${index}].comparator`}\n                    >\n                      <Select\n                        dataSource={comparatorDataSource.map(it => ({ value: it.value, label: it.value }))}\n                        className=\"event-option-select\"\n                        hiddenSelected\n                        hasArrow\n                        style={{\n                          width: 80,\n                          minWidth: 80,\n                        }}\n                      />\n                    </FormBinder>\n                  </Col>\n                  <Col className=\"option-input\" span=\"5\">\n                    值为：\n                    <FormBinder\n                      required\n                      name={`eventBehavior[${index}].bindVal`}\n                      message=\"请选择绑定的值\"\n                    >\n                      <Select\n                        mode=\"tag\"\n                        dataSource={[\n                          { value: 'dynamicFormMatchAll', label: '所有值匹配' },\n                          ...editDataDataSource.map(it => ({ value: it.value, label: it.value })),\n                        ]}\n                        className=\"event-option-select\"\n                        hiddenSelected\n                        hasArrow\n                        style={{\n                          width: 150,\n                        }}\n                      />\n                    </FormBinder>\n                    <FormError name={`eventBehavior[${index}].bindVal`} style={{ display: 'block' }} />\n                  </Col>\n\n                  <Col className=\"option-input\" span=\"9\">\n                    元素：\n                    <FormBinder\n                      required\n                      name={`eventBehavior[${index}].bindElId`}\n                      message=\"请选择绑定的元素\"\n                    >\n                      <Select\n                        mode=\"multiple\"\n                        dataSource={allElDataSource}\n                        className=\"event-option-select\"\n                        hiddenSelected\n                        showSearch\n                        style={{\n                          width: 280,\n                        }}\n                      />\n                    </FormBinder>\n                    <FormError name={`eventBehavior[${index}].bindElId`} style={{ display: 'block' }} />\n                  </Col>\n                  <Col span=\"4\" className=\"line-height-28\">\n                    事件：\n                    <FormBinder\n                      required\n                      name={`eventBehavior[${index}].bindEvent`}\n                      message=\"请选择绑定事件\"\n                    >\n                      <Select\n                        dataSource={eventDataSource}\n                        className=\"event-option-select event-option-events\"\n                        hiddenSelected\n                      />\n                    </FormBinder>\n                    <FormError name={`eventBehavior[${index}].bindEvent`} style={{ display: 'block' }} />\n                  </Col>\n                  {/* { type === 'Checkbox' && (\n                    <React.Fragment>\n                      <Col span=\"3\" className=\"line-height-28\">\n                      &nbsp;全选\n                        <FormBinder\n                          name={`eventBehavior[${index}].selectAll`}\n                          valuePropName=\"checked\"\n                        >\n                          <Checkbox />\n                        </FormBinder>\n                      </Col>\n                      <Col span=\"3\" className=\"line-height-28\">\n                        &nbsp;反选\n                        <FormBinder\n                          name={`eventBehavior[${index}].reverseSelectAll`}\n                          valuePropName=\"checked\"\n                        >\n                          <Checkbox />\n                        </FormBinder>\n                      </Col>\n                    </React.Fragment>\n                  )} */}\n                  <Col span=\"2\">\n                    <div className=\"operation-group\">\n                      { eventBehavior.length > 0 && <Icon\n                        type=\"minus\"\n                        size=\"small\"\n                        className=\"operation-icon\"\n                        onClick={() => this.handleDelClick(index)}\n                      />}\n\n                      { index === eventBehavior.length - 1 && (\n                        <Icon\n                          size=\"small\"\n                          type=\"add\"\n                          className=\"operation-icon\"\n                          onClick={() => this.handleAddClick(index)}\n                        />\n                      )}\n                    </div>\n                  </Col>\n                </Row>\n              ))\n            }\n          </div>\n        </FormBinderWrapper>\n      </Dialog>\n\n    );\n  }\n}\n\nexport default DynamicFormEventOption;\n","// eslint-disable\nimport React, { Component } from 'react';\nimport {\n  Select,\n  Button,\n  Input,\n  Message,\n  Checkbox,\n  Table,\n  Form,\n  Collapse,\n  NumberPicker,\n} from '@alifd/next';\n// import { Icon, Dropdown } from '@icedesign/base';\nimport PropTypes from 'prop-types';\n\n// import DynamicFormOption from '../DynamicFormOption';\nimport DynamicFormEventOption from '../DynamicFormEventOption';\n// import DynamicCustomFieldConfig from '../DynamicCustomFieldConfig';\n// import DynamicFormAnchorOption from '../DynamicFormAnchorOption';\n// import DynamicCalculationOption from '../DynamicCalculationOption';\n// import DynamicCalculationFormula from '../DynamicCalculationFormula';\n// import DynamicCalculationRiskLevel from '../DynamicCalculationRiskLevel';\n// import DynamicFormDialogSetting from '../DynamicFormDialogSetting';\n// import DynamicCountBehavior from '../DynamicCountBehavior';\n\nimport './index.scss';\n\nconst { Item: FormItem } = Form;\n\nconst { Group: CheckboxGroup } = Checkbox;\n\nconst { Panel } = Collapse;\n\nconst defaultFormItemLayout = {\n  labelCol: { span: 6 },\n  wrapperCol: { span: 16 },\n};\n\nconst nullToEmptyString = val => Object.keys(val).reduce((x, y) => ({ ...x, [y]: val[y] === null ? '' : val[y] }), {});\n\n// const isNumber = (rule, value, callback) => {\n//   callback(isNaN(value) ? '请输入数字' : '');\n// };\n\nconst { Column } = Table;\n\nconst commonSchema = () => {\n  return ([\n    {\n      component: Input,\n      fieldLabel: '标签宽度',\n      fieldName: 'labelWidth',\n      props: {\n      },\n    },\n    {\n      component: Select,\n      fieldLabel: '标签对齐方式',\n      fieldName: 'formLabelAlign',\n      props: {\n        dataSource: [\n          {\n            value: 'left',\n            label: 'left',\n          },\n          {\n            value: 'center',\n            label: 'center',\n          },\n          {\n            value: 'right',\n            label: 'right',\n          },\n        ],\n      },\n    },\n  ]);\n};\n\nconst baseConfig = {\n  title: '基本信息',\n  formList: [\n    {\n      component: Input,\n      fieldLabel: '表单 ID',\n      fieldName: 'id',\n      props: {\n      },\n    },\n    {\n      component: Input,\n      fieldLabel: '绑定字段名',\n      fieldName: 'fieldName',\n      props: {\n      },\n      formItemProps: {\n        required: true,\n      },\n    },\n    {\n      component: Input,\n      fieldLabel: '表单名称',\n      fieldName: 'showFormName',\n      props: {\n      },\n    },\n    {\n      component: Input,\n      fieldLabel: '标签',\n      fieldName: 'labelName',\n      props: {\n\n      },\n    },\n    ...commonSchema(),\n    {\n      component: Input,\n      fieldLabel: '校验提示名',\n      fieldName: 'validateTipName',\n      props: {\n        placeholder: '默认为标签字段去特殊符号',\n      },\n    },\n    {\n      component: Input,\n      fieldLabel: '宽度',\n      fieldName: 'userDefinedWidth',\n      props: {\n\n      },\n    },\n    {\n      component: CheckboxGroup,\n      fieldLabel: '容器边框设置',\n      fieldName: 'formBorder',\n      props: {\n        dataSource: [\n          {\n            value: 0,\n            label: '上',\n          },\n          {\n            value: 1,\n            label: '右',\n          },\n          {\n            value: 2,\n            label: '下',\n          },\n          {\n            value: 3,\n            label: '左',\n          },\n        ],\n      },\n    },\n    {\n      component: Input,\n      fieldLabel: '帮助信息',\n      fieldName: 'help',\n      props: {\n      },\n    },\n    {\n      component: Input,\n      fieldLabel: 'placeholder',\n      fieldName: 'placeholder',\n      props: {\n      },\n    },\n    {\n      component: Input,\n      fieldLabel: '备注',\n      fieldName: 'formRemarkInfo',\n      props: {\n        disabled: true,\n      },\n    },\n  ],\n};\n\nclass DynamicDropdown extends Component {\n  static propTypes = {\n    formData: PropTypes.objectOf(PropTypes.any),\n    injectComponent: PropTypes.arrayOf(PropTypes.any),\n  }\n  static defaultProps = {\n    formData: {},\n    injectComponent: [],\n  }\n\n  constructor(props) {\n    super(props);\n    const { configSchema } = props;\n    this.state = {\n      editData: nullToEmptyString(configSchema),\n      eventDialogVisible: false,\n    };\n  }\n\n  componentDidMount() {\n    const { configSchema } = this.props;\n    // 修复 飞冰 parseName bug\n    /* eslint-disable */\n    this.setState({\n      editData: nullToEmptyString(configSchema),\n    });\n    /* eslint-enable */\n  }\n\n  formChange = (editData) => {\n    this.setState({\n      editData: {\n        ...editData,\n      },\n    });\n  }\n\n  handleEventDialogClose = () => {\n    this.setState({\n      eventDialogVisible: false,\n    });\n  }\n\n  handleSave = (value, errors) => {\n    const {\n      onConfigSave,\n      path,\n      onDropdownCancel,\n      formData = {},\n    } = this.props;\n    const { editData, editData: { fieldName, id } } = this.state;\n    const formDataList = Object.values(formData);\n    const isFieldNameDuplicate = fieldName && formDataList.find(it => it.fieldName === fieldName && it.id !== id);\n\n    const errorsValueArr = Object.values(errors || {});\n    if (errorsValueArr.length) {\n      Message.warning('存在不合法字段，请检查后提交');\n      return;\n    }\n\n    if (isFieldNameDuplicate) {\n      Message.warning('fieldName 重复，请修改');\n      return;\n    }\n\n    onConfigSave(editData, path);\n    Message.success('修改成功');\n    onDropdownCancel();\n\n    // const { validateFields } = this.formBinderEl;\n    // console.log(validateFields);\n    // validateFields((errors) => {\n    //   console.log({ errors });\n    //   if (!errors || errors.every(it => it.message === '')) {\n    //     onConfigSave(editData, path);\n    //     Message.success('修改成功');\n    //   }\n    // });\n  }\n\n  handleCancel = () => {\n    const { onDropdownCancel } = this.props;\n    onDropdownCancel();\n  }\n\n  handleEventSave = (value) => {\n    const { editData } = this.state;\n\n    this.formChange({\n      ...editData,\n      ...value,\n    });\n  }\n\n  render() {\n    const {\n      formItemLayout,\n      configSchema: { type: componentType },\n      formData,\n      injectComponent = [],\n    } = this.props;\n\n    const getFormSchema = (editData, formDataAll) => {\n      const {\n        eventInfo: {\n          eventBehavior = [],\n        } = {},\n      } = editData;\n      const anchorMenuArr = document.querySelectorAll('.dynamic-category-anchor-menu');\n      if (anchorMenuArr.length > 1) {\n        Message.warning('页面中有多个目录，请手动确认后绑定位置');\n      }\n      const anchorMenuEl = anchorMenuArr[0];\n      const { left: anchorMenuElLeft = 1300, top: anchorMenuElTop = 120 } = ((anchorMenuEl && anchorMenuEl.getBoundingClientRect()) || {});\n\n      const eventOption = {\n        component: Table,\n        props: {\n          dataSource: eventBehavior,\n          children: [\n            {\n              title: '比较符',\n              dataIndex: 'comparator',\n              width: 50,\n            },\n            {\n              title: '绑定值',\n              dataIndex: 'bindVal',\n              cell: value => (value.map(it => <div key={it}>{it}</div>)),\n            },\n            {\n              title: '绑定 Id',\n              dataIndex: 'bindElId',\n              width: 200,\n              cell: (value) => {\n                return value.map(it => (\n                  <span key={it}>\n                    {formDataAll[it].fieldName}\n                    <span style={{ color: 'red' }}> | </span>\n                    {it}\n                  </span>\n                ));\n              },\n            },\n            {\n              title: '事件',\n              dataIndex: 'bindEvent',\n            },\n          ].map(item =>\n            <Column key={item.title} {...item} />\n          ),\n        },\n        key: 'eventOption',\n      };\n      return ({\n        Input: [\n          {\n            title: '基本信息',\n            formList: [\n              {\n                component: Input,\n                fieldLabel: '表单 ID',\n                fieldName: 'id',\n                props: {\n                },\n              },\n              {\n                component: Input,\n                fieldLabel: '绑定字段名',\n                fieldName: 'fieldName',\n                props: {\n                },\n                formItemProps: {\n                  required: true,\n                },\n              },\n              {\n                component: Input,\n                fieldLabel: '表单名称',\n                fieldName: 'showFormName',\n                props: {\n                },\n              },\n              {\n                component: Input,\n                fieldLabel: '标签',\n                fieldName: 'labelName',\n                props: {\n                },\n              },\n              ...commonSchema(),\n              {\n                component: Input,\n                fieldLabel: '校验提示名',\n                fieldName: 'validateTipName',\n                props: {\n                  placeholder: '默认为标签字段去特殊符号',\n                },\n              },\n              {\n                component: Input,\n                fieldLabel: '宽度',\n                fieldName: 'userDefinedWidth',\n                props: {\n\n                },\n              },\n              {\n                component: CheckboxGroup,\n                fieldLabel: '容器边框设置',\n                fieldName: 'formBorder',\n                props: {\n                  dataSource: [\n                    {\n                      value: 0,\n                      label: '上',\n                    },\n                    {\n                      value: 1,\n                      label: '右',\n                    },\n                    {\n                      value: 2,\n                      label: '下',\n                    },\n                    {\n                      value: 3,\n                      label: '左',\n                    },\n                  ],\n                },\n              },\n              {\n                component: Input,\n                fieldLabel: '帮助信息',\n                fieldName: 'help',\n                props: {\n                },\n              },\n              {\n                component: Input,\n                fieldLabel: 'placeholder',\n                fieldName: 'placeholder',\n                props: {\n                },\n              },\n              {\n                component: Input,\n                fieldLabel: '备注',\n                fieldName: 'formRemarkInfo',\n                props: {\n                },\n              },\n            ],\n          },\n          {\n            title: '录入控制',\n            formList: [\n              {\n                component: Checkbox,\n                fieldLabel: ' 必填',\n                fieldName: 'required',\n                props: {\n                },\n              },\n              {\n                component: Checkbox,\n                fieldLabel: '是否只读',\n                fieldName: 'readOnly',\n                props: {\n                },\n              },\n              {\n                component: Checkbox,\n                fieldLabel: '是否禁用',\n                fieldName: 'disabled',\n                props: {\n                },\n              },\n              {\n                component: Input,\n                fieldLabel: '默认值',\n                fieldName: 'defaultValue',\n                props: {\n                },\n              },\n              {\n                component: Checkbox,\n                fieldLabel: '多行',\n                fieldName: 'multiple',\n                props: {\n                },\n              },\n              {\n                component: Select,\n                fieldLabel: '同步元素',\n                fieldName: 'DFTextFontWeightVal',\n                props: {\n                },\n              },\n              {\n                component: Select,\n                fieldLabel: '默认值',\n                fieldName: 'DFTextFontStyleVal',\n                props: {\n                },\n              },\n              {\n                component: Select,\n                fieldLabel: '数据格式',\n                fieldName: 'format',\n                props: {\n                  dataSource: [\n                    {\n                      value: 'number',\n                      label: '纯数字',\n                    },\n                    {\n                      value: 'email',\n                      label: '邮箱',\n                    },\n                    {\n                      value: 'url',\n                      label: '网站地址',\n                    },\n                    {\n                      value: 'tel',\n                      label: '联系方式',\n                    },\n                    {\n                      value: 'isString',\n                      label: '字符串',\n                    },\n                    {\n                      value: 'isPositiveInteger',\n                      label: '正整数',\n                    },\n                    {\n                      value: 'keepOneDecimal',\n                      label: '保留一位小数',\n                    },\n                    {\n                      value: 'keepTwoDecimal',\n                      label: '保留两位小数',\n                    },\n                    {\n                      value: 'keepThreeDecimal',\n                      label: '保留三位小数',\n                    },\n                    {\n                      value: 'isMobileNum',\n                      label: '手机号',\n                    },\n                    {\n                      value: 'isIDNum',\n                      label: '身份证号',\n                    },\n                  ],\n                },\n              },\n            ],\n          },\n        ],\n        Select: [\n          {\n            title: '基本信息',\n            formList: [\n              {\n                component: Input,\n                fieldLabel: '表单 ID',\n                fieldName: 'id',\n                props: {\n                },\n              },\n              {\n                component: Input,\n                fieldLabel: '绑定字段名',\n                fieldName: 'fieldName',\n                props: {\n                },\n                formItemProps: {\n                  required: true,\n                },\n              },\n              {\n                component: Input,\n                fieldLabel: '表单名称',\n                fieldName: 'showFormName',\n                props: {\n                },\n              },\n              {\n                component: Input,\n                fieldLabel: '标签',\n                fieldName: 'labelName',\n                props: {\n\n                },\n              },\n              ...commonSchema(),\n              {\n                component: Input,\n                fieldLabel: '校验提示名',\n                fieldName: 'validateTipName',\n                props: {\n                  placeholder: '默认为标签字段去特殊符号',\n                },\n              },\n              {\n                component: Input,\n                fieldLabel: '宽度',\n                fieldName: 'userDefinedWidth',\n                props: {\n\n                },\n              },\n              {\n                component: CheckboxGroup,\n                fieldLabel: '容器边框设置',\n                fieldName: 'formBorder',\n                props: {\n                  dataSource: [\n                    {\n                      value: 0,\n                      label: '上',\n                    },\n                    {\n                      value: 1,\n                      label: '右',\n                    },\n                    {\n                      value: 2,\n                      label: '下',\n                    },\n                    {\n                      value: 3,\n                      label: '左',\n                    },\n                  ],\n                },\n              },\n              {\n                component: Input,\n                fieldLabel: '帮助信息',\n                fieldName: 'help',\n                props: {\n                },\n              },\n              {\n                component: Input,\n                fieldLabel: 'placeholder',\n                fieldName: 'placeholder',\n                props: {\n                },\n              },\n              {\n                component: Input,\n                fieldLabel: '备注',\n                fieldName: 'formRemarkInfo',\n                props: {\n                  disabled: true,\n                },\n              },\n            ],\n          },\n          {\n            title: '录入控制',\n            formList: [\n              {\n                component: Checkbox,\n                fieldLabel: ' 必填',\n                fieldName: 'required',\n                props: {\n                },\n              },\n              {\n                component: Checkbox,\n                fieldLabel: '是否只读',\n                fieldName: 'readOnly',\n                props: {\n                },\n              },\n              {\n                component: Checkbox,\n                fieldLabel: '是否禁用',\n                fieldName: 'disabled',\n                props: {\n                },\n              },\n              {\n                component: Input,\n                fieldLabel: '请求相对路径',\n                fieldName: 'requestUrl',\n                props: {\n\n                },\n              },\n              {\n                component: Input,\n                fieldLabel: 'mainCode',\n                fieldName: 'mainCode',\n                props: {\n\n                },\n              },\n              {\n                component: Checkbox,\n                fieldLabel: '模糊查询',\n                fieldName: 'showSearch',\n                props: {\n                },\n              },\n              {\n                component: Checkbox,\n                fieldLabel: '本地筛选',\n                fieldName: 'filterLocal',\n                props: {\n                },\n              },\n              {\n                component: Checkbox,\n                fieldLabel: '清除按钮',\n                fieldName: 'hasClear',\n                props: {\n                },\n              },\n              {\n                component: Input,\n                fieldLabel: '数据元',\n                fieldName: 'DFTextColorVal',\n                props: {\n\n                },\n              },\n              {\n                component: Checkbox,\n                fieldLabel: '是否参与计算',\n                fieldName: 'isCount',\n                props: {\n                  label: '开启计算后选项的值都应为数字',\n                },\n              },\n            ],\n          },\n          // {\n          //   title: '选项',\n          //   formList: [\n          //     {\n          //       component: DynamicFormOption,\n          //       fieldLabel: '选项',\n          //       fieldName: 'dataSource',\n          //       props: {\n          //         // value: [{\n          //         //   value: true,\n          //         //   label: '',\n          //         // }],\n          //       },\n          //     },\n          //     {\n          //       component: DynamicFormOption,\n          //       fieldLabel: '参数携带映射（请求 key - 表单 id）',\n          //       fieldName: 'queryParamsDataSource',\n          //       props: {\n          //         type: 'simple',\n          //       },\n          //     },\n          //   ],\n          // },\n          {\n            title: '添加事件',\n            formList: [\n              {\n                component: Button,\n                fieldLabel: '',\n                fieldName: 'addEvent',\n                props: {\n                  children: '选中时',\n                  onClick: () => {\n                    this.setState({\n                      eventDialogVisible: true,\n                    });\n                  },\n                },\n              },\n            ],\n          },\n          ...(eventBehavior ? [{\n            title: '绑定的事件',\n            formList: [\n              eventOption,\n            ],\n          }] : []),\n        ],\n        BoxContainer: [{\n          title: '动态表单基本设置',\n          formList: [\n            {\n              component: Input,\n              fieldLabel: 'id',\n              fieldName: 'id',\n              props: {\n              },\n              formItemProps: {\n                required: true,\n              },\n            },\n            {\n              component: Select,\n              fieldLabel: '定位条件下浮动',\n              fieldName: 'compactType',\n              props: {\n                dataSource: [\n                  {\n                    label: '垂直向上',\n                    value: 'vertical',\n                  },\n                  {\n                    label: '水平向左',\n                    value: 'horizontal',\n                  },\n                  {\n                    label: '不浮动',\n                    value: null,\n                  },\n                ],\n              },\n            },\n            {\n              component: Select,\n              fieldLabel: '渲染布局',\n              fieldName: 'renderCompactType',\n              props: {\n                dataSource: [\n                  {\n                    label: '定位',\n                    value: 'absolute',\n                  },\n                  {\n                    label: '浮动',\n                    value: 'float',\n                  },\n                  {\n                    label: 'inline-block',\n                    value: 'inline-block',\n                  },\n                  {\n                    label: 'block',\n                    value: 'block',\n                  },\n                ],\n                defaultValue: 'absolute',\n              },\n            },\n            {\n              component: Input,\n              fieldLabel: '列数',\n              fieldName: 'cols',\n              props: {\n\n              },\n              formItemProps: {\n                format: 'number',\n                required: true,\n              },\n            },\n            {\n              component: Input,\n              fieldLabel: '行高',\n              fieldName: 'rowHeight',\n              props: {\n              },\n              formItemProps: {\n                format: 'number',\n                required: true,\n              },\n            },\n            {\n              component: Input,\n              fieldLabel: '宽度',\n              fieldName: 'formWidth',\n              props: {\n              },\n              formItemProps: {\n                format: 'number',\n                required: true,\n              },\n            },\n            {\n              component: Input,\n              fieldLabel: '水平间隔',\n              fieldName: 'marginHorizontal',\n              props: {\n              },\n              formItemProps: {\n                format: 'number',\n                required: true,\n              },\n            },\n            {\n              component: Input,\n              fieldLabel: '垂直间隔',\n              fieldName: 'marginVertical',\n              props: {\n              },\n              formItemProps: {\n                format: 'number',\n                required: true,\n              },\n            },\n            {\n              component: Input.TextArea,\n              fieldLabel: '「Item」样式 React Style JSON（无前后引号）',\n              fieldName: 'customItemContainerStyle',\n              props: {\n                multiple: true,\n              },\n            },\n          ],\n        }],\n      });\n    };\n    const { editData, editData: { eventInfo = {} }, eventDialogVisible } = this.state;\n    let formSchemaDetail = [];\n    const componentEl = injectComponent.find(it => it.type === componentType);\n    if (componentEl) {\n      const { config = () => { } } = componentEl;\n      formSchemaDetail = [baseConfig].concat(config() || []);\n    } else {\n      ({ [componentType]: formSchemaDetail = [] } = getFormSchema(editData, formData));\n    }\n\n    const showOtherFormSchemaDetail = ['BoxContainer', 'categoryAnchor'].every(it => it !== componentType);\n    const otherFormSchemaDetail = [\n      {\n        title: '共有配置',\n        formList: [\n          {\n            component: Select,\n            fieldLabel: '另起一行(浮动下使用)',\n            fieldName: 'clear',\n            props: {\n              placeholder: '仅限浮动布局下使用',\n              dataSource: [\n                {\n                  value: 'left',\n                  label: 'clear:left 另起一行',\n                },\n              ],\n              hasClear: true,\n            },\n          },\n          {\n            component: Checkbox,\n            fieldLabel: '默认隐藏',\n            fieldName: 'hidden',\n            props: {\n              children: '隐藏元素的高度会被渲染成 1 个行高',\n            },\n          },\n          {\n            component: NumberPicker,\n            fieldLabel: '占据「行」数（用于显隐还原高度）',\n            fieldName: 'showRowHeight',\n            props: {\n            },\n          },\n          {\n            component: Input.TextArea,\n            fieldLabel: '「容器」样式 React Style JSON（无前后引号）',\n            fieldName: 'customContainerStyle',\n            props: {\n              multiple: true,\n            },\n          },\n          {\n            component: Input.TextArea,\n            fieldLabel: '组件额外 Props JSON',\n            fieldName: 'componentOtherProps',\n            props: {\n              multiple: true,\n            },\n          },\n          {\n            component: Input.TextArea,\n            fieldLabel: 'formItem 额外 Props JSON',\n            fieldName: 'formItemOtherProps',\n            props: {\n              multiple: true,\n            },\n          },\n        ],\n      },\n      // {\n      //   title: '「容器」自定义样式（优先级最高）',\n      //   formList: [\n      //     {\n      //       component: Input.TextArea,\n      //       fieldLabel: 'React Style JSON（无前后引号）',\n      //       fieldName: 'customContainerStyle',\n      //       props: {\n      //         multiple: true,\n      //       },\n      //     },\n      //   ],\n      // },\n    ];\n    console.log(formSchemaDetail, showOtherFormSchemaDetail ? otherFormSchemaDetail : [])\n\n    const renderSchema = [\n      ...formSchemaDetail,\n      ...(showOtherFormSchemaDetail ? otherFormSchemaDetail : []),\n    ].map((it) => {\n      return (\n        <Panel key={it.title} title={it.title}>\n          {\n            it.formList.map(item => (\n              <FormItem\n                label={<span style={{ color: '#333' }}>{item.fieldLabel}</span>}\n                key={item.key || item.fieldName}\n                {...{ ...defaultFormItemLayout, ...formItemLayout }}\n                {...item.formItemProps}\n              >\n                <item.component\n                  name={item.fieldName || item.key}\n                  {...item.props}\n                // value={params[it.fieldName]}\n                // onChange={value => this.handleChange(it.fieldName, value)}\n                />\n              </FormItem>\n            ))\n          }\n        </Panel>\n      );\n    });\n\n    return (\n      <div className=\"dynamic-dropdown\">\n        <div className=\"dynamic-dropdown-form-wrapper\">\n          <Form\n            value={editData}\n            onChange={this.formChange}\n            ref={(el) => { this.formBinderEl = el; }}\n            saveField={(field) => { field.options.parseName = true; }}\n          >\n            <div className=\"dynamic-dropdown-collapse-container\">\n              <Collapse\n                defaultExpandedKeys={formSchemaDetail.map(it => it.title)}\n              >\n                {renderSchema}\n              </Collapse>\n              {/* <Button className=\"save-cancel-btn\" size=\"large\" onClick={onCancel}>取消</Button> */}\n            </div>\n            <div className=\"dynamic-dropdown-action text-center\">\n              <Form.Submit\n                type=\"primary\"\n                className=\"save-cancel-button\"\n                validate\n                onClick={this.handleSave}\n              >\n                保存\n              </Form.Submit>\n              <Button\n                type=\"primary\"\n                className=\"save-cancel-button\"\n                onClick={this.handleCancel}\n              >\n                关闭\n              </Button>\n            </div>\n          </Form>\n        </div>\n        <DynamicFormEventOption\n          eventInfo={eventInfo}\n          editData={editData}\n          formData={formData}\n          onEventSave={this.handleEventSave}\n          dialogProps={{\n            visible: eventDialogVisible,\n            onClose: this.handleEventDialogClose,\n            onCancel: this.handleEventDialogClose,\n            style: {\n              width: 1020,\n            },\n            shouldUpdatePosition: true,\n            title: '编辑事件',\n          }}\n        />\n      </div>\n    );\n  }\n}\n\nexport default DynamicDropdown;\n","import { Balloon } from '@alifd/next';\n/* eslint-disable */\nexport const mySort = (function mySort() {\n\tconst stable = function (arr, comp) {\n\t\treturn exec(arr.slice(), comp);\n\t};\n\n\tstable.inplace = function (arr, comp) {\n\t\tvar result = exec(arr, comp);\n\n\t\t// This simply copies back if the result isn't in the original array,\n\t\t// which happens on an odd number of passes.\n\t\tif (result !== arr) {\n\t\t\tpass(result, null, arr.length, arr);\n\t\t}\n\n\t\treturn arr;\n\t};\n\n\t// Execute the sort using the input array and a second buffer as work space.\n\t// Returns one of those two, containing the final result.\n\tfunction exec(arr, comp) {\n\t\tif (typeof (comp) !== 'function') {\n\t\t\tcomp = function (a, b) {\n\t\t\t\treturn String(a).localeCompare(b);\n\t\t\t};\n\t\t}\n\n\t\t// Short-circuit when there's nothing to sort.\n\t\tconst len = arr.length;\n\t\tif (len <= 1) {\n\t\t\treturn arr;\n\t\t}\n\n\t\t// Rather than dividing input, simply iterate chunks of 1, 2, 4, 8, etc.\n\t\t// Chunks are the size of the left or right hand in merge sort.\n\t\t// Stop when the left-hand covers all of the array.\n\t\tvar buffer = new Array(len);\n\t\tfor (var chk = 1; chk < len; chk *= 2) {\n\t\t\tpass(arr, comp, chk, buffer);\n\n\t\t\tvar tmp = arr;\n\t\t\tarr = buffer;\n\t\t\tbuffer = tmp;\n\t\t}\n\n\t\treturn arr;\n\t}\n\n\t// Run a single pass with the given chunk size.\n\tconst pass = function (arr, comp, chk, result) {\n\t\tconst len = arr.length;\n\t\tlet i = 0;\n\t\t// Step size / double chunk size.\n\t\tconst dbl = chk * 2;\n\t\t// Bounds of the left and right chunks.\n\t\tlet l, r, e;\n\t\t// Iterators over the left and right chunk.\n\t\tlet li, ri;\n\n\t\t// Iterate over pairs of chunks.\n\t\tfor (l = 0; l < len; l += dbl) {\n\t\t\tr = l + chk;\n\t\t\te = r + chk;\n\t\t\tif (r > len) r = len;\n\t\t\tif (e > len) e = len;\n\n\t\t\t// Iterate both chunks in parallel.\n\t\t\tli = l;\n\t\t\tri = r;\n\t\t\twhile (true) {\n\t\t\t\t// Compare the chunks.\n\t\t\t\tif (li < r && ri < e) {\n\t\t\t\t\t// This works for a regular `sort()` compatible comparator,\n\t\t\t\t\t// but also for a simple comparator like: `a > b`\n\t\t\t\t\tif (comp(arr[li], arr[ri]) <= 0) {\n\t\t\t\t\t\tresult[i++] = arr[li++];\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tresult[i++] = arr[ri++];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// Nothing to compare, just flush what's left.\n\t\t\t\telse if (li < r) {\n\t\t\t\t\tresult[i++] = arr[li++];\n\t\t\t\t}\n\t\t\t\telse if (ri < e) {\n\t\t\t\t\tresult[i++] = arr[ri++];\n\t\t\t\t}\n\t\t\t\t// Both iterators are at the chunk ends.\n\t\t\t\telse {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\treturn stable;\n}());\n\nexport const sortByKeyCallback = (sortKey) => {\n\treturn ((x, y) => {\n\t\tlet result = 0;\n\t\tconst { length: sortKeyLength } = sortKey;\n\t\tfor (let i = 0; i < sortKeyLength; i++) {\n\t\t\tresult = result || (x[sortKey[i]] - y[sortKey[i]]);\n\t\t\tif (result) {\n\t\t\t\treturn result;\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t});\n};\n\n\nexport const ScrollSpy = (function () {\n\n\t'use strict';\n\n\t//\n\t// Defaults\n\t//\n\n\tvar defaults = {\n\n\t\t// Active classes\n\t\tnavClass: 'active',\n\t\tcontentClass: 'active',\n\n\t\t// Nested navigation\n\t\tnested: false,\n\t\tnestedClass: 'active',\n\n\t\t// Offset & reflow\n\t\toffset: 0,\n\t\treflow: false,\n\n\t\t// Event support\n\t\tevents: true\n\n\t};\n\n\n\t//\n\t// Methods\n\t//\n\n\t/**\n\t * Merge two or more objects together.\n\t * @param   {Object}   objects  The objects to merge together\n\t * @returns {Object}            Merged values of defaults and options\n\t */\n\tvar extend = function () {\n\t\tvar merged = {};\n\t\tArray.prototype.forEach.call(arguments, function (obj) {\n\t\t\tfor (var key in obj) {\n\t\t\t\tif (!obj.hasOwnProperty(key)) return;\n\t\t\t\tmerged[key] = obj[key];\n\t\t\t}\n\t\t});\n\t\treturn merged;\n\t};\n\n\t/**\n\t * Emit a custom event\n\t * @param  {String} type   The event type\n\t * @param  {Node}   elem   The element to attach the event to\n\t * @param  {Object} detail Any details to pass along with the event\n\t */\n\tvar emitEvent = function (type, elem, detail) {\n\n\t\t// Make sure events are enabled\n\t\tif (!detail.settings.events) return;\n\n\t\t// Create a new event\n\t\tvar event = new CustomEvent(type, {\n\t\t\tbubbles: true,\n\t\t\tcancelable: true,\n\t\t\tdetail: detail\n\t\t});\n\n\t\t// Dispatch the event\n\t\telem.dispatchEvent(event);\n\n\t};\n\n\t/**\n\t * Get an element's distance from the top of the Document.\n\t * @param  {Node} elem The element\n\t * @return {Number}    Distance from the top in pixels\n\t */\n\tvar getOffsetTop = function (elem) {\n\t\tvar location = 0;\n\t\tif (elem.offsetParent) {\n\t\t\twhile (elem) {\n\t\t\t\tlocation += elem.offsetTop;\n\t\t\t\telem = elem.offsetParent;\n\t\t\t}\n\t\t}\n\t\treturn location >= 0 ? location : 0;\n\t};\n\n\t/**\n\t * Sort content from first to last in the DOM\n\t * @param  {Array} contents The content areas\n\t */\n\tvar sortContents = function (contents) {\n\t\tif (contents) {\n\t\t\tcontents.sort(function (item1, item2) {\n\t\t\t\tvar offset1 = getOffsetTop(item1.content);\n\t\t\t\tvar offset2 = getOffsetTop(item2.content);\n\t\t\t\tif (offset1 < offset2) return -1;\n\t\t\t\treturn 1;\n\t\t\t});\n\t\t}\n\t};\n\n\t/**\n\t * Get the offset to use for calculating position\n\t * @param  {Object} settings The settings for this instantiation\n\t * @return {Float}           The number of pixels to offset the calculations\n\t */\n\tvar getOffset = function (settings) {\n\n\t\t// if the offset is a function run it\n\t\tif (typeof settings.offset === 'function') {\n\t\t\treturn parseFloat(settings.offset());\n\t\t}\n\n\t\t// Otherwise, return it as-is\n\t\treturn parseFloat(settings.offset);\n\n\t};\n\n\t/**\n\t * Get the document element's height\n\t * @private\n\t * @returns {Number}\n\t */\n\tvar getScrollElementHeight = function (element) {\n\t\t// return Math.max(\n\t\t// \tdocument.body.scrollHeight, document.documentElement.scrollHeight,\n\t\t// \tdocument.body.offsetHeight, document.documentElement.offsetHeight,\n\t\t// \tdocument.body.clientHeight, document.documentElement.clientHeight\n\t\t// );\n\t\treturn (\n\t\t\telement.scrollHeight\n\t\t);\n\t};\n\n\t/**\n\t * Determine if an element is in view\n\t * @param  {Node}    elem     The element\n\t * @param  {Object}  settings The settings for this instantiation\n\t * @param  {Boolean} bottom   If true, check if element is above bottom of viewport instead\n\t * @return {Boolean}          Returns true if element is in the viewport\n\t */\n\tvar isInView = function (elem, settings, bottom, scrollElement) {\n\t\tvar bounds = elem.getBoundingClientRect();\n\t\tvar scrollElementBounds = scrollElement.getBoundingClientRect();\n\t\tvar offset = getOffset(settings);\n\t\tif (bottom) {\n\t\t\tconst bottom = scrollElement === document.documentElement ? (window.innerHeight || document.documentElement.clientHeight) : scrollElementBounds.bottom;\n\t\t\treturn parseInt(bounds.bottom, 10) < parseInt(bottom, 10) /* (window.innerHeight || document.documentElement.clientHeight) */;\n\t\t}\n\t\treturn parseInt(bounds.top, 10) <= (scrollElement === document.documentElement ? offset : parseInt(scrollElementBounds.top, 10));\n\t};\n\n\t/**\n\t * Check if at the bottom of the viewport\n\t * @return {Boolean} If true, page is at the bottom of the viewport\n\t */\n\tvar isAtBottom = function (element) {\n\t\tif (element.scrollTop + element.clientHeight >= getScrollElementHeight(element)) return true;\n\t\treturn false;\n\t};\n\n\t/**\n\t * Check if the last item should be used (even if not at the top of the page)\n\t * @param  {Object} item     The last item\n\t * @param  {Object} settings The settings for this instantiation\n\t * @return {Boolean}         If true, use the last item\n\t */\n\tvar useLastItem = function (item, settings) {\n\t\tconst { scrollElement } = settings;\n\t\tif (item && isAtBottom(scrollElement) && isInView(item.content, settings, true, scrollElement)) return true; // 增加 item && 修改\n\t\treturn false;\n\t};\n\n\t/**\n\t * Get the active content\n\t * @param  {Array}  contents The content areas\n\t * @param  {Object} settings The settings for this instantiation\n\t * @return {Object}          The content area and matching navigation link\n\t */\n\tvar getActive = function (contents, settings) {\n\t\tvar last = contents[contents.length - 1];\n\t\tconst { scrollElement } = settings;\n\t\tif (useLastItem(last, settings)) return last;\n\t\tfor (var i = contents.length - 1; i >= 0; i--) {\n\t\t\tif (isInView(contents[i].content, settings, false, scrollElement)) return contents[i];\n\t\t}\n\t};\n\n\t/**\n\t * Deactivate parent navs in a nested navigation\n\t * @param  {Node}   nav      The starting navigation element\n\t * @param  {Object} settings The settings for this instantiation\n\t */\n\tvar deactivateNested = function (nav, settings) {\n\n\t\t// If nesting isn't activated, bail\n\t\tif (!settings.nested) return;\n\n\t\t// Get the parent navigation\n\t\tvar li = nav.parentNode.closest('li');\n\t\tif (!li) return;\n\n\t\t// Remove the active class\n\t\tli.classList.remove(settings.nestedClass);\n\n\t\t// Apply recursively to any parent navigation elements\n\t\tdeactivateNested(li, settings);\n\n\t};\n\n\t/**\n\t * Deactivate a nav and content area\n\t * @param  {Object} items    The nav item and content to deactivate\n\t * @param  {Object} settings The settings for this instantiation\n\t */\n\tvar deactivate = function (items, settings) {\n\n\t\t// Make sure their are items to deactivate\n\t\tif (!items) return;\n\n\t\t// Get the parent list item\n\t\tvar li = items.nav.closest('li');\n\t\tif (!li) return;\n\n\t\t// Remove the active class from the nav and content\n\t\tli.classList.remove(settings.navClass);\n\t\titems.content.classList.remove(settings.contentClass);\n\n\t\t// Deactivate any parent navs in a nested navigation\n\t\tdeactivateNested(li, settings);\n\n\t\t// Emit a custom event\n\t\temitEvent('scrollSpyDeactivate', li, {\n\t\t\tlink: items.nav,\n\t\t\tcontent: items.content,\n\t\t\tsettings: settings\n\t\t});\n\n\t};\n\n\n\t/**\n\t * Activate parent navs in a nested navigation\n\t * @param  {Node}   nav      The starting navigation element\n\t * @param  {Object} settings The settings for this instantiation\n\t */\n\tvar activateNested = function (nav, settings) {\n\n\t\t// If nesting isn't activated, bail\n\t\tif (!settings.nested) return;\n\n\t\t// Get the parent navigation\n\t\tvar li = nav.parentNode.closest('li');\n\t\tif (!li) return;\n\n\t\t// Add the active class\n\t\tli.classList.add(settings.nestedClass);\n\n\t\t// Apply recursively to any parent navigation elements\n\t\tactivateNested(li, settings);\n\n\t};\n\n\t/**\n\t * Activate a nav and content area\n\t * @param  {Object} items    The nav item and content to activate\n\t * @param  {Object} settings The settings for this instantiation\n\t */\n\tvar activate = function (items, settings) {\n\n\t\t// Make sure their are items to activate\n\t\tif (!items) return;\n\n\t\t// Get the parent list item\n\t\tvar li = items.nav.closest('li');\n\t\tif (!li) return;\n\n\t\t// Add the active class to the nav and content\n\t\tli.classList.add(settings.navClass);\n\t\titems.content.classList.add(settings.contentClass);\n\n\t\t// Activate any parent navs in a nested navigation\n\t\tactivateNested(li, settings);\n\n\t\t// Emit a custom event\n\t\temitEvent('scrollSpyActivate', li, {\n\t\t\tlink: items.nav,\n\t\t\tcontent: items.content,\n\t\t\tsettings: settings\n\t\t});\n\n\t};\n\n\t/**\n\t * Create the Constructor object\n\t * @param {String} selector The selector to use for navigation items\n\t * @param {Object} options  User options and settings\n\t */\n\tvar Constructor = function (selector, options) {\n\n\t\t//\n\t\t// Variables\n\t\t//\n\n\t\tvar publicAPIs = {};\n\t\tvar navItems, contents, current, timeout, settings;\n\n\n\t\t//\n\t\t// Methods\n\t\t//\n\n\t\t/**\n\t\t * Set variables from DOM elements\n\t\t */\n\t\tpublicAPIs.setup = function (options) {\n\t\t\t// Get all nav items\n\t\t\tconst {\n\t\t\t\tfatherElement = document,\n\t\t\t\tscrollElement,\n\t\t\t} = options;\n\n\t\t\tnavItems = fatherElement.querySelectorAll(selector);\n\n\t\t\t// Create contents array\n\t\t\tcontents = [];\n\n\t\t\t// Loop through each item, get it's matching content, and push to the array\n\t\t\tArray.prototype.forEach.call(navItems, function (item) {\n\n\t\t\t\t// Get the content for the nav item\n\t\t\t\tvar content = document.getElementById(decodeURIComponent(item.hash.substr(1)));\n\t\t\t\tif (!content) return;\n\n\t\t\t\t// Push to the contents array\n\t\t\t\tcontents.push({\n\t\t\t\t\tnav: item,\n\t\t\t\t\tcontent: content\n\t\t\t\t});\n\n\t\t\t});\n\n\t\t\t// Sort contents by the order they appear in the DOM\n\t\t\tsortContents(contents);\n\n\t\t};\n\n\t\t/**\n\t\t * Detect which content is currently active\n\t\t */\n\t\tpublicAPIs.detect = function () {\n\t\t\t// Get the active content\n\t\t\tvar active = getActive(contents, settings);\n\n\t\t\t// if there's no active content, deactivate and bail\n\t\t\tif (!active) {\n\t\t\t\tif (current) {\n\t\t\t\t\tdeactivate(current, settings);\n\t\t\t\t\tcurrent = null;\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// If the active content is the one currently active, do nothing\n\t\t\tif (current && active.content === current.content) return;\n\n\t\t\t// Deactivate the current content and activate the new content\n\t\t\tdeactivate(current, settings);\n\t\t\tactivate(active, settings);\n\n\t\t\t// Update the currently active content\n\t\t\tcurrent = active;\n\n\t\t};\n\n\t\t/**\n\t\t * Detect the active content on scroll\n\t\t * Debounced for performance\n\t\t */\n\t\tvar scrollHandler = function (event) {\n\n\t\t\t// If there's a timer, cancel it\n\t\t\tif (timeout) {\n\t\t\t\twindow.cancelAnimationFrame(timeout);\n\t\t\t}\n\n\t\t\t// Setup debounce callback\n\t\t\ttimeout = window.requestAnimationFrame(publicAPIs.detect);\n\n\t\t};\n\n\t\t/**\n\t\t * Update content sorting on resize\n\t\t * Debounced for performance\n\t\t */\n\t\tvar resizeHandler = function (event) {\n\n\t\t\t// If there's a timer, cancel it\n\t\t\tif (timeout) {\n\t\t\t\twindow.cancelAnimationFrame(timeout);\n\t\t\t}\n\n\t\t\t// Setup debounce callback\n\t\t\ttimeout = window.requestAnimationFrame(function () {\n\t\t\t\tsortContents(contents);\n\t\t\t\tpublicAPIs.detect();\n\t\t\t});\n\n\t\t};\n\n\t\t/**\n\t\t * Destroy the current instantiation\n\t\t */\n\t\tpublicAPIs.destroy = function () {\n\n\t\t\t// Undo DOM changes\n\t\t\tif (current) {\n\t\t\t\tdeactivate(current, settings);\n\t\t\t}\n\t\t\tconst { scrollElement } = settings;\n\t\t\t// Remove event listeners\n\t\t\tscrollElement.removeEventListener('scroll', scrollHandler, false);\n\t\t\tif (settings.reflow) {\n\t\t\t\tscrollElement.removeEventListener('resize', resizeHandler, false);\n\t\t\t}\n\n\t\t\t// Reset variables\n\t\t\tcontents = null;\n\t\t\tnavItems = null;\n\t\t\tcurrent = null;\n\t\t\ttimeout = null;\n\t\t\tsettings = null;\n\n\t\t};\n\n\t\t/**\n\t\t * Initialize the current instantiation\n\t\t */\n\t\tvar init = function () {\n\n\t\t\t// Merge user options into defaults\n\t\t\tsettings = extend(defaults, options || {});\n\n\t\t\t// Setup variables based on the current DOM\n\t\t\tpublicAPIs.setup(settings);\n\n\t\t\t// Find the currently active content\n\t\t\tpublicAPIs.detect();\n\n\t\t\tconst { scrollElement } = settings;\n\t\t\tconst scrollListener = scrollElement === document.documentElement ? window : scrollElement;\n\t\t\t// Setup event listeners\n\t\t\tscrollListener.addEventListener('scroll', scrollHandler, false);\n\t\t\tif (settings.reflow) {\n\t\t\t\tscrollListener.addEventListener('resize', resizeHandler, false);\n\t\t\t}\n\n\t\t};\n\n\n\t\t//\n\t\t// Initialize and return the public APIs\n\t\t//\n\t\tinit();\n\t\treturn publicAPIs;\n\n\t};\n\n\n\t//\n\t// Return the Constructor\n\t//\n\n\treturn Constructor;\n\n})();\n\n\nexport const mutate = (params, value, ...path) => {\n\tconst fn = (arg, index, val, ...keys) => {\n\t\tif (index === keys.length) return val;\n\t\tconst key = keys[index];\n\t\treturn Object.assign(\n\t\t\tArray.isArray(arg) ? ([...arg]) : ({ ...arg }),\n\t\t\t{ [key]: fn(arg[key] || {}, index + 1, val, ...keys) },\n\t\t);\n\t};\n\treturn fn(params, 0, value, ...path);\n};\n\nexport const customJSONTransform = (customJSON, defaultString = '{}') => {\n\tlet obj = {};\n\ttry {\n\t\tobj = JSON.parse(customJSON || defaultString);\n\t} catch (e) {\n\t\tconsole.error(obj);\n\t}\n\treturn obj;\n};\n\nconst generateEl = ({ isBold, color, style, context = '', width = 'initial' }) => (\n\t<span\n\t\tstyle={{\n\t\t\tdisplay: 'inline-block',\n\t\t\twidth,\n\t\t\t...(isBold ? { fontWeight: 'bold' } : {}),\n\t\t\t...(color ? { color } : {}),\n\t\t\t...customJSONTransform(style),\n\t\t}}\n\t>{context}\n\t</span>\n);\n\nexport const renderPreview = ({\n\tdefaultExplain,\n\tdefaultIsShow,\n\tdefaultIsBold,\n\tdefaultColor,\n\tdefaultStyle,\n\thoverExplain,\n\thoverIsShow,\n\thoverIsBold,\n\thoverColor,\n\thoverStyle,\n\tshowBoxWidth,\n\tid,\n} = {}) => {\n\tlet renderEl = generateEl({\n\t\tisBold: defaultIsBold,\n\t\tcolor: defaultColor,\n\t\tstyle: defaultStyle,\n\t\tcontext: defaultExplain,\n\t\twidth: showBoxWidth,\n\t});\n\n\tif (hoverIsShow) {\n\t\tconst hoverEl = generateEl({\n\t\t\tisBold: hoverIsBold,\n\t\t\tcolor: hoverColor,\n\t\t\tstyle: hoverStyle,\n\t\t\tcontext: hoverExplain,\n\t\t});\n\t\trenderEl = (\n\t\t\t<Balloon\n\t\t\t\ttrigger={renderEl}\n\t\t\t\tclosable={false}\n\t\t\t>\n\t\t\t\t{hoverEl}\n\t\t\t</Balloon>\n\t\t);\n\t}\n\treturn (\n\t\t<div key={id} className=\"display-inline-block risk-preview-container\">\n\t\t\t{\n\t\t\t\tdefaultIsShow && renderEl\n\t\t\t}\n\t\t</div>\n\t);\n};\n\nconst isInSection = (value, cardinalSmall, cardinalBigger) =>\n\tisBiggerOrEqual(value, cardinalSmall) && isSmallOrEqual(value, cardinalBigger);\nconst isBiggerThan = (value, cardinal) => value > cardinal;\nconst isBiggerOrEqual = (value, cardinal) => value >= cardinal;\nconst isSmallerThan = (value, cardinal) => value < cardinal;\nconst isSmallOrEqual = (value, cardinal) => value <= cardinal;\nconst isEqual = (value, cardinal) => value == cardinal; // disable-eslint\n\nexport const scoreIsMatch = (value, rule) => {\n\tconst {\n\t\truleComparator,\n\t\tfirstValue,\n\t\tsecondValue,\n\t} = rule;\n\tconst rulsMap = {\n\t\tsection: () => {\n\t\t\treturn isInSection(value, firstValue, secondValue);\n\t\t},\n\t\tbiggerThan: () => {\n\t\t\treturn isBiggerThan(value, firstValue);\n\t\t},\n\t\tbiggerOrEqual: () => {\n\t\t\treturn isBiggerOrEqual(value, firstValue);\n\t\t},\n\t\tsmallerThan: () => {\n\t\t\treturn isSmallerThan(value, firstValue);\n\t\t},\n\t\tsmallerOrEqual: () => {\n\t\t\treturn isSmallOrEqual(value, firstValue);\n\t\t},\n\t\tequal: () => {\n\t\t\treturn isEqual(value, firstValue);\n\t\t},\n\t};\n\tconst dealFn = rulsMap[ruleComparator];\n\treturn dealFn ? dealFn() : false;\n};\n\nexport const borderTransform = (borderArr, isRender, { settingColor = '#00b7eb', renderColor = '#666' }) => {\n\tconst borderColor = isRender ? renderColor : settingColor;\n\tconst borderMap = {\n\t\t0: 'Top',\n\t\t1: 'Right',\n\t\t2: 'Bottom',\n\t\t3: 'Left',\n\t};\n\tconst borderStyle = `1px solid ${borderColor}`;\n\treturn borderArr.reduce((x, y) => ({ ...x, [`border${borderMap[y]}`]: borderStyle }), {});\n};\n\nexport const getChild = (key, formObj) => {\n\treturn formObj[key];\n}\n\nexport const valueToValue = (value, compareValue, returnVal) => (value === compareValue ? returnVal : value);\nexport const getQueryOtherParams = (queryParamsDataSource, formValue = {}, formData) => queryParamsDataSource.reduce((a, b) => ({\n\t...a,\n\t[b.label]: valueToValue(formValue[(formData[b.value] || {}).fieldName]),\n}), {});\nexport const delayResponse = (response, delay) => {\n\treturn new Promise((res, rej) => {\n\t\tsetTimeout(() => {\n\t\t\tres(response)\n\t\t}, delay)\n\t})\n}\n\nexport const isMatchOneAndMore = (param, matchArr, comparator) => {\n\tif (matchArr.includes('dynamicFormMatchAll')) {\n\t\treturn true;\n\t}\n\tconst paramArr = Array.isArray(param) ? param : [param];\n\tconst comparatorCallback = {\n\t\t'===': matchArrItem => paramArr.some(x => x === matchArrItem),\n\t\t'==': matchArrItem => paramArr.some(x => x == matchArrItem), // eslint-disable-line\n\t\t'!==': matchArrItem => paramArr.every(x => x !== matchArrItem),\n\t};\n\t// return matchArr.findIndex(it => (paramArr.includes(it))) !== -1;\n\treturn matchArr.findIndex(comparatorCallback[comparator]) !== -1;\n};\n","import React, { Component } from 'react';\r\nimport {\r\n\tSelect,\r\n\tInput,\r\n\tIcon,\r\n\tButton,\r\n\tSwitch,\r\n\tTab,\r\n\tOverlay,\r\n\tMenu,\r\n\tForm,\r\n\tDialog,\r\n\tMessage,\r\n\tUpload,\r\n} from '@alifd/next';\r\nimport '@alifd/next/lib/select/style';\r\nimport '@alifd/next/lib/input/style';\r\nimport '@alifd/next/lib/icon/style';\r\nimport '@alifd/next/lib/button/style';\r\nimport '@alifd/next/lib/switch/style';\r\nimport '@alifd/next/lib/tab/style';\r\nimport '@alifd/next/lib/overlay/style';\r\nimport '@alifd/next/lib/menu/style';\r\nimport '@alifd/next/lib/form/style';\r\nimport '@alifd/next/lib/dialog/style';\r\nimport '@alifd/next/lib/message/style';\r\nimport '@alifd/next/lib/upload/style';\r\nimport '@alifd/next/lib/checkbox/style';\r\nimport '@alifd/next/lib/collapse/style';\r\nimport '@alifd/next/lib/table/style';\r\nimport '@alifd/next/lib/grid/style';\r\n\r\nimport mock from 'mockjs';\r\nimport classnames from 'classnames';\r\nimport DynamicDropdown from '../DynamicDropdown';\r\nimport {\r\n\tgetChild,\r\n\tsortByKeyCallback,\r\n\t// mySort,\r\n\tmutate,\r\n\tcustomJSONTransform,\r\n\tscoreIsMatch,\r\n\trenderPreview,\r\n\tborderTransform,\r\n\tgetQueryOtherParams,\r\n\tdelayResponse,\r\n\tisMatchOneAndMore,\r\n} from '../../utils';\r\nimport './index.scss';\r\n\r\nconst { Item: TabItem } = Tab;\r\nconst { Item: FormItem } = Form;\r\nconst { Popup } = Overlay;\r\n\r\nexport default class index extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tconst { value, initJSON } = props;\r\n\t\tthis.state = {\r\n\t\t\teditJSON: initJSON,\r\n\t\t\tisEditable: true,\r\n\t\t\tselectedKey: -1,\r\n\t\t\tformValue: value,\r\n\t\t};\r\n\t\tthis.clipBoard = {\r\n\t\t};\r\n\r\n\t\tconst { editJSON: { formBoxData } } = this.state;\r\n\t\tthis.layoutCache = formBoxData;\r\n\t\tthis.scoreObj = {};\r\n\t\tthis.searchTimeout = {}\r\n\t}\r\n\r\n\t// 生成元素\r\n\trenderType = (item, index) => {\r\n\t\tconst {\r\n\t\t\teditJSON: {\r\n\t\t\t\tformBoxKey: {\r\n\t\t\t\t\trowHeight,\r\n\t\t\t\t},\r\n\t\t\t\tformData,\r\n\t\t\t},\r\n\t\t\tisEditable,\r\n\t\t} = this.state;\r\n\t\tconst { disabled: allFieldDisabled, canEditable } = this.props;\r\n\t\tconst checkboxForValue = (checked, returnVal) => (checked ? returnVal : '');\r\n\t\tconst {\r\n\t\t\ttype = 'Text',\r\n\t\t\tformBorder = [],\r\n\t\t\tcustomStyle,\r\n\t\t\tDFTextColorVal,\r\n\t\t\tDFTextFontWeightVal,\r\n\t\t\tDFTextFontStyleVal,\r\n\t\t\tDFTextTextDecorationVal,\r\n\t\t\tplaceholder,\r\n\t\t\thidden,\r\n\t\t\thelp,\r\n\t\t\tcomponentOtherProps: componentOtherPropsJSON,\r\n\r\n\t\t\tid,\r\n\t\t\tuserDefinedWidth,\r\n\t\t\tfieldName,\r\n\t\t\tlabelName,\r\n\t\t\tdisabled: itemDisabled,\r\n\t\t\tformItemOtherProps: formItemOtherPropsJSON,\r\n\r\n\t\t\trequired,\r\n\t\t\tvalidateTipName = (labelName || '').replace(/[:：]*/g, '').trim(),\r\n\r\n\t\t\treadOnly,\r\n\t\t\tdefaultValue,\r\n\t\t\titemDirection,\r\n\t\t\teventInfo: {\r\n\t\t\t\teventBehavior = [],\r\n\t\t\t} = {},\r\n\r\n\t\t\tevent,\r\n\r\n\t\t\tformLabelAlign = 'left',\r\n\t\t\tlabelWidth,\r\n\t\t} = item;\r\n\r\n\t\tconst disabled = allFieldDisabled || itemDisabled;\r\n\t\tconst width = parseInt(userDefinedWidth || 120, 10);\r\n\t\tconst customComponentOtherProps = customJSONTransform(componentOtherPropsJSON);\r\n\t\tconst customFormItemOtherProps = customJSONTransform(formItemOtherPropsJSON);\r\n\t\tconst requiredMessage = `${validateTipName} 是必填字段`;\r\n\t\tconst eleMap = {\r\n\t\t\t_Input: {\r\n\t\t\t\trender: () => {\r\n\t\t\t\t\tconst { multiple, format } = item;\r\n\t\t\t\t\treturn ({\r\n\t\t\t\t\t\ttype: multiple ? Input.TextArea : Input,\r\n\t\t\t\t\t\tprops: {\r\n\t\t\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\t\t\twidth: parseInt(userDefinedWidth, 10),\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\thidden,\r\n\t\t\t\t\t\t\tname: fieldName,\r\n\t\t\t\t\t\t\tmultiple,\r\n\t\t\t\t\t\t\treadOnly,\r\n\t\t\t\t\t\t\tdisabled,\r\n\t\t\t\t\t\t\tplaceholder,\r\n\t\t\t\t\t\t\tdefaultValue,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tformItemProp: {\r\n\t\t\t\t\t\t\trequired,\r\n\t\t\t\t\t\t\trequiredMessage,\r\n\t\t\t\t\t\t\t...format ? { format } : {},\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t});\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\t_Select: {\r\n\t\t\t\trender: () => {\r\n\t\t\t\t\tconst {\r\n\t\t\t\t\t\tdataSource: {\r\n\t\t\t\t\t\t\t[`${fieldName}DataSource`]: responseDataSource = [],\r\n\t\t\t\t\t\t} = {} } = this.state;\r\n\t\t\t\t\tconst {\r\n\t\t\t\t\t\tdataSource,\r\n\t\t\t\t\t\tshowSearch,\r\n\t\t\t\t\t\tfilterLocal = false,\r\n\t\t\t\t\t\trequestUrl,\r\n\t\t\t\t\t\thasClear = false,\r\n\t\t\t\t\t} = item;\r\n\t\t\t\t\treturn ({\r\n\t\t\t\t\t\ttype: Select,\r\n\t\t\t\t\t\tprops: {\r\n\t\t\t\t\t\t\tdataSource: responseDataSource.length ? responseDataSource : dataSource.filter(it => it.visible),\r\n\t\t\t\t\t\t\treadOnly,\r\n\t\t\t\t\t\t\tname: fieldName,\r\n\t\t\t\t\t\t\tdisabled,\r\n\t\t\t\t\t\t\tshowSearch,\r\n\t\t\t\t\t\t\t...(eventBehavior.length ? { onChange: value => this.handleEventChange(value, item) } : {}),\r\n\t\t\t\t\t\t\t...((filterLocal === false && showSearch && requestUrl) ? { onSearch: value => this.handleSearch(value, item) } : {}),\r\n\t\t\t\t\t\t\tplaceholder,\r\n\t\t\t\t\t\t\tfilterLocal,\r\n\t\t\t\t\t\t\thasClear,\r\n\t\t\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\t\t\twidth,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tformItemProp: {\r\n\t\t\t\t\t\t\trequired,\r\n\t\t\t\t\t\t\trequiredMessage,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t});\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tlet ElObject;\r\n\t\tElObject = (eleMap[`_${type}`] || eleMap['_Input']).render(); // disable-eslint\r\n\t\tconst { type: El, props, formItemProp } = ElObject;\r\n\r\n\t\tconst labelWidthObj = labelWidth ? { width: labelWidth } : {};\r\n\t\tif (item.id === \"DFRadio1554793985110\") {\r\n\t\t\tconsole.log(labelName, labelWidth, formItemProp)\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t!hidden && (\r\n\t\t\t\t<FormItem\r\n\t\t\t\t\tlabel={(\r\n\t\t\t\t\t\tlabelName && (\r\n\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\tstyle={{ textAlign: formLabelAlign, ...labelWidthObj }}\r\n\t\t\t\t\t\t\t\tclassName={classnames('display-inline-block', 'custom-label-wrapper')}\r\n\t\t\t\t\t\t\t// {...otherLabelPropsWithoutStyle}\r\n\t\t\t\t\t\t\t>{labelName}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t)}\r\n\t\t\t\t\tclassName={classnames({\r\n\t\t\t\t\t\t'form-item-with-custom-label': labelWidth,\r\n\t\t\t\t\t})}\r\n\t\t\t\t\tlabelAlign=\"left\"\r\n\t\t\t\t\t// requiredMessage={}\r\n\t\t\t\t\t{...formItemProp}\r\n\t\t\t\t\t{...customFormItemOtherProps}\r\n\t\t\t\t>\r\n\t\t\t\t\t<El {...props} {...customComponentOtherProps} />\r\n\t\t\t\t</FormItem>\r\n\t\t\t)\r\n\t\t);\r\n\t}\r\n\r\n\thandleMenuItemClick = (type) => {\r\n\t\tconst { editJSON: { formBoxData }, selectedKey } = this.state;\r\n\t\tconst selectedFormBoxDataItemIndex = formBoxData.findIndex(it => it.i === selectedKey);\r\n\t\tif (selectedFormBoxDataItemIndex === -1) {\r\n\t\t\tconst yPositionArr = formBoxData.map(item => item.y);\r\n\t\t\tconst maxY = Math.max(...yPositionArr, 0);\r\n\t\t\tthis.addNewElItem({\r\n\t\t\t\ttype,\r\n\t\t\t\titemX: 0,\r\n\t\t\t\titemY: maxY + 1,\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tconst selectedFormBoxDataItem = formBoxData.filter(it => it.i === selectedKey)[0];\r\n\t\t\tconst { x: itemX = 0, y: itemY = 0 } = selectedFormBoxDataItem;\r\n\t\t\tthis.addNewElItem({\r\n\t\t\t\ttype,\r\n\t\t\t\titemX,\r\n\t\t\t\titemY,\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\taddNewElItem = ({\r\n\t\ttype,\r\n\t\tleft,\r\n\t\ttop,\r\n\t\titemX,\r\n\t\titemY,\r\n\t}) => {\r\n\t\tconst {\r\n\t\t\teditJSON,\r\n\t\t\teditJSON: {\r\n\t\t\t\tformBoxData: layout,\r\n\t\t\t\tformBoxKey: {\r\n\t\t\t\t\tformWidth,\r\n\t\t\t\t\trowHeight,\r\n\t\t\t\t\tcols,\r\n\t\t\t\t\tmarginHorizontal,\r\n\t\t\t\t\tmarginVertical,\r\n\t\t\t\t\tcompactType,\r\n\t\t\t\t\tcontainerPaddingHorizontal = marginHorizontal,\r\n\t\t\t\t\tcontainerPaddingVertical = marginVertical,\r\n\t\t\t\t},\r\n\t\t\t\tformData,\r\n\t\t\t},\r\n\t\t\tisEditable,\r\n\t\t} = this.state;\r\n\t\tif (!isEditable) return false;\r\n\t\t// const colsWidth = (formWidth - containerPaddingHorizontal) / cols - marginHorizontal;\r\n\t\t// const rowsHeight = ;\r\n\t\t// const colsNumber = offsetX / ;\r\n\t\t// const rowsNumber = offsetY;\r\n\t\tif (itemX === undefined && itemY === undefined) {\r\n\t\t\t({ x: itemX, y: itemY } = this.calcXY({\r\n\t\t\t\ttop,\r\n\t\t\t\tleft,\r\n\t\t\t\tmarginHorizontal,\r\n\t\t\t\tmarginVertical,\r\n\t\t\t\trowHeight,\r\n\t\t\t\tcols,\r\n\t\t\t\tcontainerPaddingHorizontal,\r\n\t\t\t\tformWidth,\r\n\t\t\t}));\r\n\t\t}\r\n\t\tconst key = Date.now();\r\n\r\n\t\tconst { wrapper, layoutEl } = (this.dropEl({ type, itemX, itemY, rowHeight }) || {});\r\n\t\tif (wrapper && layoutEl) {\r\n\t\t\tthis.setState({\r\n\t\t\t\teditJSON: {\r\n\t\t\t\t\t...editJSON,\r\n\t\t\t\t\tformBoxData: [...layout, wrapper],\r\n\t\t\t\t\tformData: { ...formData, ...layoutEl },\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t// console.log(itemX, itemY);\r\n\t\t// console.log(e, e.target);\r\n\t}\r\n\tdropEl = ({ type, itemX, itemY, rowHeight, containerItem }) => {\r\n\t\tconst key = Date.now().toString();\r\n\t\tconst elKey = `DF${type}${key}`;\r\n\t\tlet getWidthColNum;\r\n\t\tif (containerItem) {\r\n\t\t\tgetWidthColNum = width => Math.ceil(width / this.calcGridAreaColWidth(containerItem));\r\n\t\t} else {\r\n\t\t\tgetWidthColNum = width => Math.ceil(width / this.calcColWidth());\r\n\t\t}\r\n\t\tconst getRowHeight = height => Math.ceil(height / rowHeight);\r\n\t\tconst getBaseEl = ({ wrapper, layoutEl, type: componentType }) => {\r\n\t\t\tconst nativeWrapper = {\r\n\t\t\t\tx: itemX,\r\n\t\t\t\ty: itemY,\r\n\t\t\t\tw: getWidthColNum(320),\r\n\t\t\t\th: getRowHeight(30),\r\n\t\t\t\ti: key.toString(),\r\n\t\t\t\tchild: [elKey],\r\n\t\t\t\tformMinW: 12,\r\n\t\t\t\tformMinH: 1,\r\n\t\t\t\tisUserMove: false,\r\n\t\t\t\t...wrapper,\r\n\t\t\t};\r\n\t\t\tconst nativeLayoutEl = {\r\n\t\t\t\t[elKey]: {\r\n\t\t\t\t\ttype: componentType,\r\n\t\t\t\t\tshowFormName: '客制化组件',\r\n\t\t\t\t\tlabelName: '客制化组件：',\r\n\t\t\t\t\tfieldName: elKey,\r\n\t\t\t\t\tdefaultValue: '',\r\n\t\t\t\t\tformValue: [],\r\n\t\t\t\t\trequired: false,\r\n\t\t\t\t\tuserDefinedWidth: 200,\r\n\t\t\t\t\tformWidth: 262,\r\n\t\t\t\t\tformHeight: 30,\r\n\t\t\t\t\tid: elKey,\r\n\t\t\t\t\tformBoxKey: key.toString(),\r\n\t\t\t\t\t...layoutEl,\r\n\t\t\t\t},\r\n\t\t\t};\r\n\t\t\treturn ({\r\n\t\t\t\twrapper: nativeWrapper,\r\n\t\t\t\tlayoutEl: nativeLayoutEl,\r\n\t\t\t});\r\n\t\t};\r\n\t\tconst generateEl = {\r\n\t\t\tText: () => {\r\n\t\t\t\tconst wrapper = {\r\n\t\t\t\t\tx: itemX,\r\n\t\t\t\t\ty: itemY,\r\n\t\t\t\t\tw: getWidthColNum(120),\r\n\t\t\t\t\th: getRowHeight(30),\r\n\t\t\t\t\ti: key.toString(),\r\n\t\t\t\t\tchild: [elKey],\r\n\t\t\t\t\tformMinW: 12,\r\n\t\t\t\t\tformMinH: 1,\r\n\t\t\t\t\tisUserMove: false,\r\n\t\t\t\t};\r\n\t\t\t\tconst layoutEl = {\r\n\t\t\t\t\t[elKey]: {\r\n\t\t\t\t\t\ttype: 'Text',\r\n\t\t\t\t\t\tshowFormName: '文本',\r\n\t\t\t\t\t\tlabelName: '',\r\n\t\t\t\t\t\ttextContent: '文本',\r\n\t\t\t\t\t\tfieldName: elKey,\r\n\t\t\t\t\t\tdefaultValue: '',\r\n\t\t\t\t\t\tformValue: '',\r\n\t\t\t\t\t\trequired: false,\r\n\t\t\t\t\t\tuserDefinedWidth: 200,\r\n\t\t\t\t\t\tformWidth: 262,\r\n\t\t\t\t\t\tformHeight: 30,\r\n\t\t\t\t\t\tid: elKey,\r\n\t\t\t\t\t\tformBoxKey: key.toString(),\r\n\t\t\t\t\t},\r\n\t\t\t\t};\r\n\t\t\t\treturn ({\r\n\t\t\t\t\twrapper,\r\n\t\t\t\t\tlayoutEl,\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tTextFormItem: () => {\r\n\t\t\t\tconst wrapper = {\r\n\t\t\t\t\tx: itemX,\r\n\t\t\t\t\ty: itemY,\r\n\t\t\t\t\tw: getWidthColNum(120),\r\n\t\t\t\t\th: getRowHeight(30),\r\n\t\t\t\t\ti: key.toString(),\r\n\t\t\t\t\tchild: [elKey],\r\n\t\t\t\t\tformMinW: 12,\r\n\t\t\t\t\tformMinH: 1,\r\n\t\t\t\t\tisUserMove: false,\r\n\t\t\t\t};\r\n\t\t\t\tconst layoutEl = {\r\n\t\t\t\t\t[elKey]: {\r\n\t\t\t\t\t\ttype: 'TextFormItem',\r\n\t\t\t\t\t\tshowFormName: '文本表单',\r\n\t\t\t\t\t\tlabelName: '文本表单：',\r\n\t\t\t\t\t\tfieldName: elKey,\r\n\t\t\t\t\t\tdefaultValue: '',\r\n\t\t\t\t\t\tformValue: '',\r\n\t\t\t\t\t\trequired: false,\r\n\t\t\t\t\t\tuserDefinedWidth: 200,\r\n\t\t\t\t\t\tformWidth: 262,\r\n\t\t\t\t\t\tformHeight: 30,\r\n\t\t\t\t\t\tid: elKey,\r\n\t\t\t\t\t\tformBoxKey: key.toString(),\r\n\t\t\t\t\t},\r\n\t\t\t\t};\r\n\t\t\t\treturn ({\r\n\t\t\t\t\twrapper,\r\n\t\t\t\t\tlayoutEl,\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tInput: () => {\r\n\t\t\t\tconst wrapper = {\r\n\t\t\t\t\tx: itemX,\r\n\t\t\t\t\ty: itemY,\r\n\t\t\t\t\tw: getWidthColNum(320),\r\n\t\t\t\t\th: getRowHeight(30),\r\n\t\t\t\t\ti: key.toString(),\r\n\t\t\t\t\tchild: [elKey],\r\n\t\t\t\t\tformMinW: 12,\r\n\t\t\t\t\tformMinH: 1,\r\n\t\t\t\t\tisUserMove: false,\r\n\t\t\t\t};\r\n\t\t\t\tconst layoutEl = {\r\n\t\t\t\t\t[elKey]: {\r\n\t\t\t\t\t\ttype: 'Input',\r\n\t\t\t\t\t\tshowFormName: '文本框',\r\n\t\t\t\t\t\tlabelName: '文本框：',\r\n\t\t\t\t\t\tfieldName: elKey,\r\n\t\t\t\t\t\tdefaultValue: '',\r\n\t\t\t\t\t\tformValue: '',\r\n\t\t\t\t\t\trequired: false,\r\n\t\t\t\t\t\tuserDefinedWidth: 200,\r\n\t\t\t\t\t\tformWidth: 262,\r\n\t\t\t\t\t\tformHeight: 30,\r\n\t\t\t\t\t\tid: elKey,\r\n\t\t\t\t\t\tformBoxKey: key.toString(),\r\n\t\t\t\t\t},\r\n\t\t\t\t};\r\n\t\t\t\treturn ({\r\n\t\t\t\t\twrapper,\r\n\t\t\t\t\tlayoutEl,\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tSelect: () => {\r\n\t\t\t\tconst wrapper = {\r\n\t\t\t\t\tx: itemX,\r\n\t\t\t\t\ty: itemY,\r\n\t\t\t\t\tw: getWidthColNum(320),\r\n\t\t\t\t\th: getRowHeight(30),\r\n\t\t\t\t\ti: key.toString(),\r\n\t\t\t\t\tchild: [elKey],\r\n\t\t\t\t\tformMinW: 12,\r\n\t\t\t\t\tformMinH: 1,\r\n\t\t\t\t\tisUserMove: false,\r\n\t\t\t\t};\r\n\t\t\t\tconst layoutEl = {\r\n\t\t\t\t\t[elKey]: {\r\n\t\t\t\t\t\ttype: 'Select',\r\n\t\t\t\t\t\tshowFormName: '下拉选择',\r\n\t\t\t\t\t\tlabelName: '标签名：',\r\n\t\t\t\t\t\tfieldName: elKey,\r\n\t\t\t\t\t\tdefaultValue: [],\r\n\t\t\t\t\t\tformValue: [],\r\n\t\t\t\t\t\trequired: false,\r\n\t\t\t\t\t\tuserDefinedWidth: 200,\r\n\t\t\t\t\t\tformWidth: 262,\r\n\t\t\t\t\t\tformHeight: 30,\r\n\t\t\t\t\t\tid: elKey,\r\n\t\t\t\t\t\tformBoxKey: key.toString(),\r\n\t\t\t\t\t\tdataSource: [],\r\n\t\t\t\t\t},\r\n\t\t\t\t};\r\n\t\t\t\treturn ({\r\n\t\t\t\t\twrapper,\r\n\t\t\t\t\tlayoutEl,\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tCheckbox: () => {\r\n\t\t\t\tconst wrapper = {\r\n\t\t\t\t\tx: itemX,\r\n\t\t\t\t\ty: itemY,\r\n\t\t\t\t\tw: getWidthColNum(320),\r\n\t\t\t\t\th: getRowHeight(30),\r\n\t\t\t\t\ti: key.toString(),\r\n\t\t\t\t\tchild: [elKey],\r\n\t\t\t\t\tformMinW: 12,\r\n\t\t\t\t\tformMinH: 1,\r\n\t\t\t\t\tisUserMove: false,\r\n\t\t\t\t};\r\n\t\t\t\tconst layoutEl = {\r\n\t\t\t\t\t[elKey]: {\r\n\t\t\t\t\t\ttype: 'Checkbox',\r\n\t\t\t\t\t\tshowFormName: 'Checkbox',\r\n\t\t\t\t\t\tlabelName: '复选框：',\r\n\t\t\t\t\t\tfieldName: elKey,\r\n\t\t\t\t\t\tdefaultValue: [],\r\n\t\t\t\t\t\tformValue: [],\r\n\t\t\t\t\t\trequired: false,\r\n\t\t\t\t\t\tuserDefinedWidth: 200,\r\n\t\t\t\t\t\tformWidth: 262,\r\n\t\t\t\t\t\tformHeight: 30,\r\n\t\t\t\t\t\tid: elKey,\r\n\t\t\t\t\t\tformBoxKey: key.toString(),\r\n\t\t\t\t\t\tdataSource: [],\r\n\t\t\t\t\t},\r\n\t\t\t\t};\r\n\t\t\t\treturn ({\r\n\t\t\t\t\twrapper,\r\n\t\t\t\t\tlayoutEl,\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tRadio: () => {\r\n\t\t\t\tconst wrapper = {\r\n\t\t\t\t\tx: itemX,\r\n\t\t\t\t\ty: itemY,\r\n\t\t\t\t\tw: getWidthColNum(320),\r\n\t\t\t\t\th: getRowHeight(30),\r\n\t\t\t\t\ti: key.toString(),\r\n\t\t\t\t\tchild: [elKey],\r\n\t\t\t\t\tformMinW: 12,\r\n\t\t\t\t\tformMinH: 1,\r\n\t\t\t\t\tisUserMove: false,\r\n\t\t\t\t};\r\n\t\t\t\tconst layoutEl = {\r\n\t\t\t\t\t[elKey]: {\r\n\t\t\t\t\t\ttype: 'Radio',\r\n\t\t\t\t\t\tshowFormName: '单选框',\r\n\t\t\t\t\t\tlabelName: '单选框：',\r\n\t\t\t\t\t\tfieldName: elKey,\r\n\t\t\t\t\t\tdefaultValue: '',\r\n\t\t\t\t\t\tformValue: [],\r\n\t\t\t\t\t\trequired: false,\r\n\t\t\t\t\t\tuserDefinedWidth: 200,\r\n\t\t\t\t\t\tformWidth: 262,\r\n\t\t\t\t\t\tformHeight: 30,\r\n\t\t\t\t\t\tid: elKey,\r\n\t\t\t\t\t\tformBoxKey: key.toString(),\r\n\t\t\t\t\t\tdataSource: [],\r\n\t\t\t\t\t},\r\n\t\t\t\t};\r\n\t\t\t\treturn ({\r\n\t\t\t\t\twrapper,\r\n\t\t\t\t\tlayoutEl,\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tDatePicker: () => {\r\n\t\t\t\tconst wrapper = {\r\n\t\t\t\t\tx: itemX,\r\n\t\t\t\t\ty: itemY,\r\n\t\t\t\t\tw: getWidthColNum(320),\r\n\t\t\t\t\th: getRowHeight(30),\r\n\t\t\t\t\ti: key.toString(),\r\n\t\t\t\t\tchild: [elKey],\r\n\t\t\t\t\tformMinW: 12,\r\n\t\t\t\t\tformMinH: 1,\r\n\t\t\t\t\tisUserMove: false,\r\n\t\t\t\t};\r\n\t\t\t\tconst layoutEl = {\r\n\t\t\t\t\t[elKey]: {\r\n\t\t\t\t\t\ttype: 'DatePicker',\r\n\t\t\t\t\t\tshowFormName: '日期选择器',\r\n\t\t\t\t\t\tlabelName: '日期选择器：',\r\n\t\t\t\t\t\tfieldName: elKey,\r\n\t\t\t\t\t\trequired: false,\r\n\t\t\t\t\t\tuserDefinedWidth: 200,\r\n\t\t\t\t\t\tformWidth: 262,\r\n\t\t\t\t\t\tformHeight: 30,\r\n\t\t\t\t\t\tid: elKey,\r\n\t\t\t\t\t\tformBoxKey: key.toString(),\r\n\t\t\t\t\t},\r\n\t\t\t\t};\r\n\t\t\t\treturn ({\r\n\t\t\t\t\twrapper,\r\n\t\t\t\t\tlayoutEl,\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tCalculation: () => {\r\n\t\t\t\tconst wrapper = {\r\n\t\t\t\t\tx: itemX,\r\n\t\t\t\t\ty: itemY,\r\n\t\t\t\t\tw: getWidthColNum(320),\r\n\t\t\t\t\th: getRowHeight(30),\r\n\t\t\t\t\ti: key.toString(),\r\n\t\t\t\t\tchild: [elKey],\r\n\t\t\t\t\tformMinW: 12,\r\n\t\t\t\t\tformMinH: 1,\r\n\t\t\t\t\tisUserMove: false,\r\n\t\t\t\t};\r\n\t\t\t\tconst layoutEl = {\r\n\t\t\t\t\t[elKey]: {\r\n\t\t\t\t\t\ttype: 'Calculation',\r\n\t\t\t\t\t\tshowFormName: '公式计算',\r\n\t\t\t\t\t\tlabelName: '公式计算：',\r\n\t\t\t\t\t\tfieldName: elKey,\r\n\t\t\t\t\t\tdefaultValue: '',\r\n\t\t\t\t\t\tformValue: '',\r\n\t\t\t\t\t\trequired: false,\r\n\t\t\t\t\t\tuserDefinedWidth: 200,\r\n\t\t\t\t\t\tformWidth: 262,\r\n\t\t\t\t\t\tformHeight: 30,\r\n\t\t\t\t\t\tid: elKey,\r\n\t\t\t\t\t\tformBoxKey: key.toString(),\r\n\t\t\t\t\t},\r\n\t\t\t\t};\r\n\t\t\t\treturn ({\r\n\t\t\t\t\twrapper,\r\n\t\t\t\t\tlayoutEl,\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tScoreDialog: () => {\r\n\t\t\t\tconst wrapper = {\r\n\t\t\t\t\tx: itemX,\r\n\t\t\t\t\ty: itemY,\r\n\t\t\t\t\tw: getWidthColNum(320),\r\n\t\t\t\t\th: getRowHeight(30),\r\n\t\t\t\t\ti: key.toString(),\r\n\t\t\t\t\tchild: [elKey],\r\n\t\t\t\t\tformMinW: 12,\r\n\t\t\t\t\tformMinH: 1,\r\n\t\t\t\t\tisUserMove: false,\r\n\t\t\t\t};\r\n\t\t\t\tconst layoutEl = {\r\n\t\t\t\t\t[elKey]: {\r\n\t\t\t\t\t\ttype: 'ScoreDialog',\r\n\t\t\t\t\t\tshowFormName: '评分',\r\n\t\t\t\t\t\tlabelName: '评分：',\r\n\t\t\t\t\t\tfieldName: elKey,\r\n\t\t\t\t\t\tdefaultValue: '',\r\n\t\t\t\t\t\tformValue: '',\r\n\t\t\t\t\t\tuserDefinedWidth: 200,\r\n\t\t\t\t\t\tformWidth: 262,\r\n\t\t\t\t\t\tformHeight: 30,\r\n\t\t\t\t\t\tid: elKey,\r\n\t\t\t\t\t\tformBoxKey: key.toString(),\r\n\t\t\t\t\t\tdisabled: false,\r\n\t\t\t\t\t},\r\n\t\t\t\t};\r\n\t\t\t\treturn ({\r\n\t\t\t\t\twrapper,\r\n\t\t\t\t\tlayoutEl,\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tGroupArea: () => {\r\n\t\t\t\tconst wrapper = {\r\n\t\t\t\t\tx: itemX,\r\n\t\t\t\t\ty: itemY,\r\n\t\t\t\t\tw: getWidthColNum(320),\r\n\t\t\t\t\th: getRowHeight(120),\r\n\t\t\t\t\ti: key.toString(),\r\n\t\t\t\t\tchild: [elKey],\r\n\t\t\t\t\tformMinW: 12,\r\n\t\t\t\t\tformMinH: 1,\r\n\t\t\t\t\tisUserMove: false,\r\n\t\t\t\t};\r\n\t\t\t\tconst layoutEl = {\r\n\t\t\t\t\t[elKey]: {\r\n\t\t\t\t\t\ttype: 'GroupArea',\r\n\t\t\t\t\t\tshowFormName: `${elKey} 图层`,\r\n\t\t\t\t\t\tid: elKey,\r\n\t\t\t\t\t\tformBoxKey: key.toString(),\r\n\t\t\t\t\t\tgridAreaBoxKey: {\r\n\t\t\t\t\t\t\tcompactType: 'vertical',\r\n\t\t\t\t\t\t\tcols: 20,\r\n\t\t\t\t\t\t\trowHeight: 30,\r\n\t\t\t\t\t\t\tformWidth: 300,\r\n\t\t\t\t\t\t\tmarginHorizontal: 0,\r\n\t\t\t\t\t\t\tmarginVertical: 0,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tformBoxData: [],\r\n\t\t\t\t\t},\r\n\t\t\t\t};\r\n\t\t\t\treturn ({\r\n\t\t\t\t\twrapper,\r\n\t\t\t\t\tlayoutEl,\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tButton: () => {\r\n\t\t\t\tconst wrapper = {\r\n\t\t\t\t\tx: itemX,\r\n\t\t\t\t\ty: itemY,\r\n\t\t\t\t\tw: getWidthColNum(320),\r\n\t\t\t\t\th: getRowHeight(30),\r\n\t\t\t\t\ti: key.toString(),\r\n\t\t\t\t\tchild: [elKey],\r\n\t\t\t\t\tformMinW: 12,\r\n\t\t\t\t\tformMinH: 1,\r\n\t\t\t\t\tisUserMove: false,\r\n\t\t\t\t};\r\n\t\t\t\tconst layoutEl = {\r\n\t\t\t\t\t[elKey]: {\r\n\t\t\t\t\t\ttype: 'Button',\r\n\t\t\t\t\t\tshowFormName: '按钮',\r\n\t\t\t\t\t\ttextContent: '按钮',\r\n\t\t\t\t\t\tfieldName: elKey,\r\n\t\t\t\t\t\tformValue: '',\r\n\t\t\t\t\t\trequired: false,\r\n\t\t\t\t\t\tuserDefinedWidth: 200,\r\n\t\t\t\t\t\tformWidth: 262,\r\n\t\t\t\t\t\tformHeight: 30,\r\n\t\t\t\t\t\tid: elKey,\r\n\t\t\t\t\t\tformBoxKey: key.toString(),\r\n\t\t\t\t\t},\r\n\t\t\t\t};\r\n\t\t\t\treturn ({\r\n\t\t\t\t\twrapper,\r\n\t\t\t\t\tlayoutEl,\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tTips: () => {\r\n\t\t\t\tconst wrapper = {\r\n\t\t\t\t\tx: itemX,\r\n\t\t\t\t\ty: itemY,\r\n\t\t\t\t\tw: getWidthColNum(120),\r\n\t\t\t\t\th: getRowHeight(30),\r\n\t\t\t\t\ti: key.toString(),\r\n\t\t\t\t\tchild: [elKey],\r\n\t\t\t\t\tformMinW: 12,\r\n\t\t\t\t\tformMinH: 1,\r\n\t\t\t\t\tisUserMove: false,\r\n\t\t\t\t};\r\n\t\t\t\tconst layoutEl = {\r\n\t\t\t\t\t[elKey]: {\r\n\t\t\t\t\t\ttype: 'Tips',\r\n\t\t\t\t\t\tshowFormName: '帮助',\r\n\t\t\t\t\t\tlabelName: '',\r\n\t\t\t\t\t\ttextContent: '帮助',\r\n\t\t\t\t\t\tfieldName: elKey,\r\n\t\t\t\t\t\tdefaultValue: '',\r\n\t\t\t\t\t\tformValue: '',\r\n\t\t\t\t\t\trequired: false,\r\n\t\t\t\t\t\tuserDefinedWidth: 200,\r\n\t\t\t\t\t\tformWidth: 262,\r\n\t\t\t\t\t\tformHeight: 30,\r\n\t\t\t\t\t\tid: elKey,\r\n\t\t\t\t\t\tformBoxKey: key.toString(),\r\n\t\t\t\t\t},\r\n\t\t\t\t};\r\n\t\t\t\treturn ({\r\n\t\t\t\t\twrapper,\r\n\t\t\t\t\tlayoutEl,\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tAddress: () => {\r\n\t\t\t\tconst wrapper = {\r\n\t\t\t\t\tx: itemX,\r\n\t\t\t\t\ty: itemY,\r\n\t\t\t\t\tw: getWidthColNum(600),\r\n\t\t\t\t\th: getRowHeight(60),\r\n\t\t\t\t\ti: key.toString(),\r\n\t\t\t\t\tchild: [elKey],\r\n\t\t\t\t\tformMinW: 12,\r\n\t\t\t\t\tformMinH: 1,\r\n\t\t\t\t\tisUserMove: false,\r\n\t\t\t\t};\r\n\t\t\t\tconst layoutEl = {\r\n\t\t\t\t\t[elKey]: {\r\n\t\t\t\t\t\ttype: 'Address',\r\n\t\t\t\t\t\tshowFormName: '地址',\r\n\t\t\t\t\t\tlabelName: '地址：',\r\n\t\t\t\t\t\tfieldName: elKey,\r\n\t\t\t\t\t\tdefaultValue: {},\r\n\t\t\t\t\t\tformValue: {},\r\n\t\t\t\t\t\trequired: false,\r\n\t\t\t\t\t\tuserDefinedWidth: 200,\r\n\t\t\t\t\t\tformWidth: 262,\r\n\t\t\t\t\t\tformHeight: 30,\r\n\t\t\t\t\t\tid: elKey,\r\n\t\t\t\t\t\tformBoxKey: key.toString(),\r\n\t\t\t\t\t},\r\n\t\t\t\t};\r\n\t\t\t\treturn ({\r\n\t\t\t\t\twrapper,\r\n\t\t\t\t\tlayoutEl,\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tTable: () => {\r\n\t\t\t\tconst wrapper = {\r\n\t\t\t\t\tx: itemX,\r\n\t\t\t\t\ty: itemY,\r\n\t\t\t\t\tw: getWidthColNum(600),\r\n\t\t\t\t\th: getRowHeight(120),\r\n\t\t\t\t\ti: key.toString(),\r\n\t\t\t\t\tchild: [elKey],\r\n\t\t\t\t\tformMinW: 12,\r\n\t\t\t\t\tformMinH: 1,\r\n\t\t\t\t\tisUserMove: false,\r\n\t\t\t\t};\r\n\t\t\t\tconst layoutEl = {\r\n\t\t\t\t\t[elKey]: {\r\n\t\t\t\t\t\ttype: 'Table',\r\n\t\t\t\t\t\tshowFormName: '表格',\r\n\t\t\t\t\t\tlabelName: '表格：',\r\n\t\t\t\t\t\tfieldName: elKey,\r\n\t\t\t\t\t\tformValue: [],\r\n\t\t\t\t\t\tuserDefinedWidth: 400,\r\n\t\t\t\t\t\tformWidth: 262,\r\n\t\t\t\t\t\tformHeight: 30,\r\n\t\t\t\t\t\tid: elKey,\r\n\t\t\t\t\t\tformBoxKey: key.toString(),\r\n\t\t\t\t\t\tcolumns: [\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tdisabled: false,\r\n\t\t\t\t\t\t\t\tkey: 1554885920096,\r\n\t\t\t\t\t\t\t\tlabel: '患者 id',\r\n\t\t\t\t\t\t\t\tvalue: 'id',\r\n\t\t\t\t\t\t\t\tvisible: true,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tdisabled: false,\r\n\t\t\t\t\t\t\t\tkey: 1554885920022,\r\n\t\t\t\t\t\t\t\tlabel: ' 患者姓名',\r\n\t\t\t\t\t\t\t\tvalue: 'name',\r\n\t\t\t\t\t\t\t\tvisible: true,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t},\r\n\t\t\t\t};\r\n\t\t\t\treturn ({\r\n\t\t\t\t\twrapper,\r\n\t\t\t\t\tlayoutEl,\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tCustomField: () => {\r\n\t\t\t\treturn getBaseEl({\r\n\t\t\t\t\ttype: 'CustomField',\r\n\t\t\t\t\twrapper: {\r\n\t\t\t\t\t\tw: getWidthColNum(400),\r\n\t\t\t\t\t},\r\n\t\t\t\t\tlayoutEl: {\r\n\t\t\t\t\t\tshowFormName: '自定义表单项',\r\n\t\t\t\t\t\tlabelName: '自定义表单项',\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tCustomRadioGroup: () => {\r\n\t\t\t\treturn getBaseEl({\r\n\t\t\t\t\ttype: 'CustomRadioGroup',\r\n\t\t\t\t\twrapper: {\r\n\t\t\t\t\t},\r\n\t\t\t\t\tlayoutEl: {\r\n\t\t\t\t\t\tshowFormName: '定制 RadioGroup',\r\n\t\t\t\t\t\tlabelName: '定制 RadioGroup',\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tCustomCheckboxGroup: () => {\r\n\t\t\t\treturn getBaseEl({\r\n\t\t\t\t\ttype: 'CustomCheckboxGroup',\r\n\t\t\t\t\twrapper: {\r\n\t\t\t\t\t},\r\n\t\t\t\t\tlayoutEl: {\r\n\t\t\t\t\t\tshowFormName: '定制 CheckboxGroup',\r\n\t\t\t\t\t\tlabelName: '定制 CheckboxGroup',\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t};\r\n\t\treturn generateEl[type] && generateEl[type]();\r\n\t}\r\n\tcalcGridAreaColWidth = (item) => {\r\n\t\tconst {\r\n\t\t\tgridAreaBoxKey: {\r\n\t\t\t\tformWidth = 300,\r\n\t\t\t\tmarginHorizontal = 0,\r\n\t\t\t\tcontainerPaddingHorizontal = 0,\r\n\t\t\t\tcols = 20,\r\n\t\t\t},\r\n\t\t} = item;\r\n\t\treturn (formWidth - (marginHorizontal * (cols - 1)) - (containerPaddingHorizontal * 2)) / cols;\r\n\t}\r\n\tcalcColWidth = () => {\r\n\t\tconst {\r\n\t\t\teditJSON: {\r\n\t\t\t\tformBoxKey: {\r\n\t\t\t\t\tformWidth,\r\n\t\t\t\t\tcols,\r\n\t\t\t\t\tmarginHorizontal,\r\n\t\t\t\t\tcontainerPaddingHorizontal = marginHorizontal,\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t} = this.state;\r\n\t\treturn (\r\n\t\t\t(formWidth - (marginHorizontal * (cols - 1)) - (containerPaddingHorizontal * 2)) / cols\r\n\t\t);\r\n\t}\r\n\t// 删除元素\r\n\thandleDelClick = (item, showMessage, id) => {\r\n\t\tconst removeItemFn = () => {\r\n\t\t\tconst { editJSON, editJSON: { formData, formBoxData }, selectedKey } = this.state;\r\n\t\t\tconst { child } = item;\r\n\t\t\tlet newFormData = Object.keys(formData).reduce((x, y) => ({ ...x, ...(child.includes(y) ? {} : { [y]: formData[y] }) }), {});\r\n\t\t\tconst newFormBoxData = formBoxData.filter(it => it.i !== item.i);\r\n\t\t\tif (id) {\r\n\t\t\t\tconst groupAreaFormBoxData = newFormData[id].formBoxData;\r\n\t\t\t\tconst newGroupAreaFormBoxData = groupAreaFormBoxData.filter(it => (it.i !== item.i));\r\n\r\n\t\t\t\tnewFormData = mutate(newFormData, newGroupAreaFormBoxData, id, 'formBoxData');\r\n\t\t\t}\r\n\t\t\tthis.setState({\r\n\t\t\t\teditJSON: {\r\n\t\t\t\t\t...editJSON,\r\n\t\t\t\t\tformBoxData: newFormBoxData,\r\n\t\t\t\t\tformData: newFormData,\r\n\t\t\t\t},\r\n\t\t\t\t...(item.i === selectedKey ? { selectedKey: -1 } : {}),\r\n\t\t\t});\r\n\t\t};\r\n\t\tif (showMessage) {\r\n\t\t\tDialog.confirm({\r\n\t\t\t\ttitle: '提示',\r\n\t\t\t\tcontent: '是否确认删除',\r\n\t\t\t\tonOk: removeItemFn,\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tremoveItemFn();\r\n\t\t}\r\n\t}\r\n\r\n\thandleGridItemClick = (selectedKey) => {\r\n\t\tconst {\r\n\t\t\tisEditable,\r\n\t\t} = this.state;\r\n\t\tconst { canEditable } = this.props;\r\n\t\tif (canEditable && isEditable) {\r\n\t\t\tthis.setState({ selectedKey });\r\n\t\t}\r\n\t}\r\n\r\n\t// 保存元素信息\r\n\thandleConfigSave = (value, path) => {\r\n\t\tconst {\r\n\t\t\teditJSON,\r\n\t\t} = this.state;\r\n\t\tconst newEditJson = mutate(editJSON, value, ...path);\r\n\t\tthis.setState({\r\n\t\t\teditJSON: newEditJson,\r\n\t\t});\r\n\t\tthis.saveDynamicFormJSON(newEditJson);\r\n\t}\r\n\r\n\t// select 下拉搜索定制需求\r\n\thandleSearch = (value, item) => {\r\n\t\tif (this.searchTimeout[item.id]) {\r\n\t\t\tclearTimeout(this.searchTimeout[item.id]);\r\n\t\t}\r\n\t\tconst { requestUrl, mainCode, fieldName, queryParamsDataSource = [] } = item;\r\n\t\tconst { formValue, editJSON: { formData = {} } } = this.state;\r\n\t\t// const queryOtherParams = queryParamsDataSource.reduce((a, b) => ({\r\n\t\t//   ...a,\r\n\t\t//   [b.label]: formValue[b.value],\r\n\t\t// }), {});\r\n\r\n\t\tconst queryOtherParams = getQueryOtherParams(queryParamsDataSource, formValue, formData);\r\n\r\n\t\tthis.searchTimeout[item.id] = setTimeout(() => {\r\n\t\t\tconst resp = mock.mock({\r\n\t\t\t\t\"data|1-10\": [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"value|+1\": 1\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t})\r\n\t\t\tdelayResponse(resp.data, 300).then((res) => {\r\n\t\t\t\tconst { dataSource } = this.state;\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tdataSource: {\r\n\t\t\t\t\t\t...dataSource,\r\n\t\t\t\t\t\t[`${fieldName}DataSource`]: res,\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t}, 100);\r\n\t}\r\n\r\n\t// 元素事件处理\r\n\thandleEventChange = (value, item) => {\r\n\t\tconst { formValue = {} } = this.state;\r\n\t\tconst { fieldName } = item;\r\n\t\tconst preValue = formValue[fieldName] || [];\r\n\t\tthis.handleEventDiffValueChange(value, preValue, item);\r\n\t}\r\n\r\n\thandleEventDiffValueChange = (currValue, preValue, item, delayTrigger) => {\r\n\t\tconst {\r\n\t\t\teventInfo: {\r\n\t\t\t\teventBehavior = [],\r\n\t\t\t} = {},\r\n\t\t\tfieldName,\r\n\t\t} = item;\r\n\t\tconst { editJSON } = this.state;\r\n\t\tlet { editJSON: { formData, formBoxData }, formValue } = this.state;\r\n\t\tlet newFormBoxData = formBoxData;\r\n\r\n\t\t({ formData, formValue, formBoxData: newFormBoxData } = this.handleEventBehavior({\r\n\t\t\tformValue,\r\n\t\t\tformData,\r\n\t\t\tpreValue,\r\n\t\t\tcurrValue,\r\n\t\t\teventBehavior,\r\n\t\t\tformBoxData,\r\n\t\t\ttriggerType: 'event',\r\n\t\t}));\r\n\r\n\t\tthis.setState({\r\n\t\t\teditJSON: {\r\n\t\t\t\t...editJSON,\r\n\t\t\t\tformData,\r\n\t\t\t\tformBoxData: newFormBoxData,\r\n\t\t\t},\r\n\t\t});\r\n\t\tif (this.state.formValue === formValue && !delayTrigger) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tformValue: { ...formValue, [fieldName]: currValue },\r\n\t\t\t});\r\n\t\t} else if (this.state.formValue !== formValue || delayTrigger) {\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tthis.handleFormChange({\r\n\t\t\t\t\t...formValue,\r\n\t\t\t\t\t[fieldName]: currValue,\r\n\t\t\t\t}, { name: fieldName, value: currValue, field: this.field });\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\thandleEventBehavior = ({\r\n\t\tformValue,\r\n\t\tformData,\r\n\t\tpreValue,\r\n\t\tcurrValue,\r\n\t\teventBehavior,\r\n\t\tformBoxData,\r\n\t\ttriggerType = 'event',\r\n\t}) => {\r\n\t\tlet newFormValue = formValue;\r\n\t\tlet newFormData = formData;\r\n\t\tlet newFormBoxData = formBoxData;\r\n\t\teventBehavior.forEach((it) => {\r\n\t\t\tconst { bindVal, bindElId, bindEvent, comparator = '===' } = it;\r\n\t\t\tconst preValueMatchBindVal = isMatchOneAndMore(preValue, bindVal, comparator);\r\n\t\t\tconst currValueMatchBindVal = isMatchOneAndMore(currValue, bindVal, comparator);\r\n\t\t\tconst isTriggerEventPassion = !preValueMatchBindVal && currValueMatchBindVal;\r\n\t\t\tconst isTriggerEventNegative = preValueMatchBindVal && !currValueMatchBindVal;\r\n\t\t\tconst bindEventHandle = {\r\n\t\t\t\tenabled: () => {\r\n\t\t\t\t\tif (currValueMatchBindVal) {\r\n\t\t\t\t\t\tnewFormData = this.generateNewFormDataByEvents(bindElId, newFormData, { disabled: false });\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnewFormData = this.generateNewFormDataByEvents(bindElId, newFormData, { disabled: true });\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tclear: () => {\r\n\t\t\t\t\tif (currValueMatchBindVal) {\r\n\t\t\t\t\t\t// this.handleFormItemChange();\r\n\t\t\t\t\t\tnewFormValue = this.generateNewFormValueByEvents(bindElId, newFormData, newFormValue, undefined);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// this.setState({\r\n\t\t\t\t\t//   formValue\r\n\t\t\t\t\t// }, () => this.handleFormChange(newFormValue, this.field));\r\n\t\t\t\t},\r\n\t\t\t\trequestUrlWithParams: () => {\r\n\t\t\t\t\tif (currValueMatchBindVal && triggerType === 'event') {\r\n\t\t\t\t\t\t// this.handleFormItemChange();\r\n\t\t\t\t\t\tnewFormValue = this.generateNewFormValueByEvents(bindElId, newFormData, newFormValue, undefined);\r\n\t\t\t\t\t\tbindElId.forEach((it) => {\r\n\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\tthis.handleSearch('', newFormData[it]);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tshow: () => {\r\n\t\t\t\t\tif (currValueMatchBindVal) {\r\n\t\t\t\t\t\t// this.handleFormItemChange();\r\n\t\t\t\t\t\tnewFormData = this.generateNewFormDataByEvents(bindElId, newFormData, { hidden: false });\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnewFormData = this.generateNewFormDataByEvents(bindElId, newFormData, { hidden: true });\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\thidden: () => {\r\n\t\t\t\t\tif (currValueMatchBindVal) {\r\n\t\t\t\t\t\t// this.handleFormItemChange();\r\n\t\t\t\t\t\tnewFormData = this.generateNewFormDataByEvents(bindElId, newFormData, { hidden: true });\r\n\t\t\t\t\t\tnewFormBoxData = this.generateNewFormBoxDataByEvents(bindElId, formBoxData, { h: 1 });\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnewFormData = this.generateNewFormDataByEvents(bindElId, newFormData, { hidden: false });\r\n\r\n\t\t\t\t\t\tnewFormBoxData = this.generateNewFormBoxDataByEvents(bindElId, formBoxData, (elId) => ({ h: newFormData[elId].showRowHeight || 1 }));\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// this.setState({\r\n\t\t\t\t\t//   formValue\r\n\t\t\t\t\t// }, () => this.handleFormChange(newFormValue, this.field));\r\n\t\t\t\t},\r\n\t\t\t\t// disabled: ,\r\n\t\t\t\t// hidden: ,\r\n\t\t\t\t// show: ,\r\n\t\t\t};\r\n\t\t\tconst eventType = Array.isArray(bindEvent) ? bindEvent[0] : bindEvent;\r\n\t\t\tif (bindEventHandle[eventType]) {\r\n\t\t\t\tbindEventHandle[eventType]();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn {\r\n\t\t\tformValue: newFormValue,\r\n\t\t\tformData: newFormData,\r\n\t\t\tformBoxData: newFormBoxData,\r\n\t\t};\r\n\t}\r\n\r\n\tgenerateNewFormValueByEvents = (bindElIdArr, formData, formValue, value) => {\r\n\t\tconst bindFieldArr = bindElIdArr.filter(it => formData[it]).map(it => formData[it].fieldName);\r\n\t\treturn bindFieldArr.reduce((x, y) => ({\r\n\t\t\t...x,\r\n\t\t\t[y]: value,\r\n\t\t}), formValue);\r\n\t}\r\n\r\n\thandleFormChange = (value, field) => {\r\n\t\tconst { onChange } = this.props;\r\n\r\n\t\tthis.setState({\r\n\t\t\tformValue: value,\r\n\t\t}, () => {\r\n\t\t\tonChange && onChange(value, field, field.field.validate);\r\n\t\t});\r\n\t}\r\n\tsaveDynamicFormJSON = (newEditJson) => {\r\n\t\tlocalStorage.setItem('dynamicForm', JSON.stringify(newEditJson));\r\n\t}\r\n\r\n\t// 导出数据\r\n\thandleSaveClick = (type) => {\r\n\t\tconst { editJSON } = this.state;\r\n\t\tconst saveTypeMap = {\r\n\t\t\tsave: () => {\r\n\r\n\t\t\t},\r\n\t\t\texport: () => {\r\n\t\t\t\tconst exportJson = JSON.stringify(editJSON);\r\n\t\t\t\tconst blob = new Blob([exportJson], { type: 'application/json;charset=utf-8' });\r\n\t\t\t\tconst downloadLink = document.createElement('a');\r\n\t\t\t\tdownloadLink.download = 'dynamic-form.json';\r\n\t\t\t\tdownloadLink.href = URL.createObjectURL(blob);\r\n\t\t\t\tdocument.body.appendChild(downloadLink);\r\n\t\t\t\tdownloadLink.click();\r\n\t\t\t\tdownloadLink.remove();\r\n\t\t\t},\r\n\t\t\timport: () => {\r\n\r\n\t\t\t},\r\n\t\t};\r\n\t\tif (saveTypeMap[type]) {\r\n\t\t\tsaveTypeMap[type]();\r\n\t\t}\r\n\t}\r\n\t// 导入数据\r\n\tbeforeImport = (file) => {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tconst reader = new FileReader();\r\n\t\t\treader.onload = () => {\r\n\t\t\t\tconst { result } = reader;\r\n\t\t\t\tlet editJSON = {};\r\n\t\t\t\ttry {\r\n\t\t\t\t\teditJSON = JSON.parse(result);\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\teditJSON,\r\n\t\t\t\t\t\tselectedKey: -1,\r\n\r\n\t\t\t\t\t});\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t\tMessage.success('导入成功');\r\n\t\t\t\t} catch (_) {\r\n\t\t\t\t\tMessage.error('格式不正确，请检查');\r\n\t\t\t\t\treject();\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\treader.readAsText(file, { type: 'application/json;charset=utf-8' });\r\n\t\t});\r\n\t}\r\n\r\n\t// 组件栏tab\r\n\thandleTabsChange = (value) => {\r\n\t\tthis.setState({\r\n\t\t\tactiveKey: value,\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\teditJSON,\r\n\t\t\teditJSON: {\r\n\t\t\t\tformBoxData: layout,\r\n\t\t\t\tformBoxKey,\r\n\t\t\t\tformBoxKey: {\r\n\t\t\t\t\tid: dynamicFormId,\r\n\t\t\t\t\tformWidth,\r\n\t\t\t\t\trowHeight,\r\n\t\t\t\t\tcols,\r\n\t\t\t\t\tmarginHorizontal,\r\n\t\t\t\t\tmarginVertical,\r\n\t\t\t\t\tcompactType,\r\n\t\t\t\t\trenderCompactType = 'absolute',\r\n\t\t\t\t\tcontainerPaddingHorizontal = marginHorizontal,\r\n\t\t\t\t\tcontainerPaddingVertical = marginVertical,\r\n\t\t\t\t\tcustomItemContainerStyle,\r\n\t\t\t\t},\r\n\t\t\t\tformData,\r\n\t\t\t\t// categoryAnchor = {\r\n\t\t\t\t//   type: 'categoryAnchor',\r\n\t\t\t\t// },\r\n\t\t\t\t// categoryAnchor: {\r\n\t\t\t\t//   showCategoryAnchor = false,\r\n\t\t\t\t// } = {},\r\n\t\t\t},\r\n\t\t\tisEditable,\r\n\t\t\tselectedKey,\r\n\t\t\tvisibleId,\r\n\t\t\tformValue,\r\n\t\t\tactiveKey,\r\n\t\t} = this.state;\r\n\r\n\t\tconst customItemContainerReactStyle = customJSONTransform(customItemContainerStyle);\r\n\t\tconst { borderColor } = customItemContainerReactStyle;\r\n\r\n\t\tconst {\r\n\t\t\tcanEditable,\r\n\t\t} = this.props;\r\n\r\n\t\tconst tabs = [\r\n\t\t\t{\r\n\t\t\t\ttitle: '基础组件',\r\n\t\t\t\tkey: 0,\r\n\t\t\t\tdataSource: [\r\n\t\t\t\t\t'Text',\r\n\t\t\t\t\t'TextFormItem',\r\n\t\t\t\t\t'Input',\r\n\t\t\t\t\t'Select',\r\n\t\t\t\t\t'Checkbox',\r\n\t\t\t\t\t'Radio',\r\n\t\t\t\t\t'DatePicker',\r\n\t\t\t\t\t'Calculation',\r\n\t\t\t\t\t'ScoreDialog',\r\n\t\t\t\t\t'GroupArea',\r\n\t\t\t\t\t'Table',\r\n\t\t\t\t\t'Button',\r\n\t\t\t\t\t'Tips',\r\n\t\t\t\t\t'CustomRadioGroup',\r\n\t\t\t\t\t'CustomCheckboxGroup',\r\n\t\t\t\t],\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: '业务组件',\r\n\t\t\t\tkey: 1,\r\n\t\t\t\tdataSource: [\r\n\t\t\t\t\t'Address',\r\n\t\t\t\t\t'CustomField',\r\n\t\t\t\t],\r\n\t\t\t},\r\n\t\t];\r\n\t\treturn (\r\n\t\t\t<div\r\n\t\t\t\tclassName={\r\n\t\t\t\t\tclassnames({\r\n\t\t\t\t\t\t'dynamic-form': true,\r\n\t\t\t\t\t\t'dynamic-form-editable': canEditable && isEditable,\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\tdata-dynamic-form-id={dynamicFormId}\r\n\t\t\t\tref={(el) => { this.dynamicFormEl = el; }}\r\n\t\t\t>\r\n\t\t\t\t{/* {showCategoryAnchor && <CategoryAnchor editJSON={editJSON} />} */}\r\n\t\t\t\t{canEditable && isEditable && (\r\n\t\t\t\t\t<div className=\"drag-component-box\">\r\n\t\t\t\t\t\t<div className=\"drag-component-bar\">control panel</div>\r\n\t\t\t\t\t\t<Tab\r\n\t\t\t\t\t\t\tshape=\"wrapped\"\r\n\t\t\t\t\t\t\tonChange={this.handleTabsChange}\r\n\t\t\t\t\t\t\tactiveKey={activeKey}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{tabs.map((it) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<TabItem\r\n\t\t\t\t\t\t\t\t\t\ttitle={it.title}\r\n\t\t\t\t\t\t\t\t\t\tkey={it.key}\r\n\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\tbackground: '#FFF',\r\n\t\t\t\t\t\t\t\t\t\t\tmarginRight: '-1px',\r\n\t\t\t\t\t\t\t\t\t\t\twidth: '100px',\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Menu\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\twidth: 200,\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"customize-limit\"\r\n\t\t\t\t\t\t\t\t\t\t\tonItemClick={this.handleMenuItemClick}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{it.dataSource.map(item => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Menu.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonDragStart={(e) => { e.dataTransfer.setData('dynamic-type', item); }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdraggable=\"true\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={item}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbackground: (item === 'Input' || item === 'Select') ? 'aqua' : '#FFF',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{item}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t</Menu>\r\n\t\t\t\t\t\t\t\t\t</TabItem>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</Tab>\r\n\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t\t{canEditable && (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div className=\"dynamic-form-tools\">\r\n\t\t\t\t\t\t\t<Switch\r\n\t\t\t\t\t\t\t\tunCheckedChildren=\"编辑\"\r\n\t\t\t\t\t\t\t\tcheckedChildren=\"预览\"\r\n\t\t\t\t\t\t\t\tonChange={(v) => { this.setState({ isEditable: !v }); }}\r\n\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\twidth: 80,\r\n\t\t\t\t\t\t\t\t\tmargin: 6,\r\n\t\t\t\t\t\t\t\t\tverticalAlign: 'middle',\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t{isEditable && (\r\n\t\t\t\t\t\t\t\t<Popup\r\n\t\t\t\t\t\t\t\t\ttrigger={(\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => { this.setState({ visibleId: '0' }); }}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Icon ice type=\"set\" iconSize=\"small\" />\r\n                      表单设计\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\ttriggerType=\"click\"\r\n\t\t\t\t\t\t\t\t\thasMask\r\n\t\t\t\t\t\t\t\t\tvisible={visibleId === '0'}\r\n\t\t\t\t\t\t\t\t\tclassName=\"dynamic-form-config-popup\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<DynamicDropdown\r\n\t\t\t\t\t\t\t\t\t\t\tconfigSchema={formBoxKey}\r\n\t\t\t\t\t\t\t\t\t\t\tpath={['formBoxKey']}\r\n\t\t\t\t\t\t\t\t\t\t\tonConfigSave={this.handleConfigSave}\r\n\t\t\t\t\t\t\t\t\t\t\tonDropdownCancel={() => this.setState({ visibleId: -1 })}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</Popup>)\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t{/* <Button.Group>\r\n                                <Button onClick={() => this.handleEditClick('copy')} type=\"secondary\">复制</Button>\r\n                                <Button onClick={() => this.handleEditClick('cut')} type=\"secondary\">剪切</Button>\r\n                                <Button onClick={() => this.handleEditClick('paste')} type=\"secondary\">粘贴</Button>\r\n                            </Button.Group> */}\r\n\t\t\t\t\t\t\t<Button style={{\r\n\t\t\t\t\t\t\t\tmargin: '0 10px'\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tonClick={() => this.handleSaveClick('export')} type=\"primary\">导出数据</Button>\r\n\r\n\t\t\t\t\t\t\t<Upload\r\n\t\t\t\t\t\t\t\taccept=\"application/json\"\r\n\t\t\t\t\t\t\t\tbeforeUpload={this.beforeImport}\r\n\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\tdisplay: 'inline-block',\r\n\t\t\t\t\t\t\t\t\tverticalAlign: 'middle',\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Button type=\"primary\">导入数据</Button>\r\n\t\t\t\t\t\t\t</Upload>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t\t<Form\r\n\t\t\t\t\tvalue={formValue}\r\n\t\t\t\t\tonChange={this.handleFormChange}\r\n\t\t\t\t\tsaveField={(field) => { this.field = field; }}\r\n\t\t\t\t>\r\n\t\t\t\t\t{(/* canEditable ? mySort(layout, sortByKeyCallback(['y', 'x'])) : this.layoutCache */ layout).map((it, index) => {\r\n\t\t\t\t\t\tconst formDataItem = getChild(it.child[0], formData);\r\n\t\t\t\t\t\tconst { formBorder = [], id, clear } = formDataItem;\r\n\r\n\t\t\t\t\t\tconst borderStyle = borderTransform(\r\n\t\t\t\t\t\t\tformBorder,\r\n\t\t\t\t\t\t\t!canEditable || !isEditable,\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tsettingColor: '#00b7eb',\r\n\t\t\t\t\t\t\t\trenderColor: borderColor,\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tconst clearObj = clear ? { clear } : {};\r\n\t\t\t\t\t\tconst dynamicReactGridItemStyle = {\r\n\t\t\t\t\t\t\t...customItemContainerReactStyle,\r\n\t\t\t\t\t\t\t...borderStyle,\r\n\t\t\t\t\t\t\t...customJSONTransform(formDataItem.customContainerStyle),\r\n\t\t\t\t\t\t\t...clearObj,\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tif (it.child[0] === \"DFRadio1554793985110\") {\r\n\t\t\t\t\t\t\tconsole.log(dynamicReactGridItemStyle)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tkey={it.i}\r\n\t\t\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\t\t\tclassnames({\r\n\t\t\t\t\t\t\t\t\t\t'dynamic-react-grid-item': true,\r\n\t\t\t\t\t\t\t\t\t\t'dynamic-react-grid-selected-item': it.i === selectedKey,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t// static={!isEditable}\r\n\t\t\t\t\t\t\t\t// isResizable={isEditable}\r\n\t\t\t\t\t\t\t\tstyle={dynamicReactGridItemStyle}\r\n\t\t\t\t\t\t\t\tid={id}\r\n\t\t\t\t\t\t\t\tonClick={() => this.handleGridItemClick(it.i)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{this.renderType(formDataItem, index)}\r\n\t\t\t\t\t\t\t\t{canEditable && isEditable && (\r\n\t\t\t\t\t\t\t\t\t<div className=\"dynamic-item-tools\">\r\n\t\t\t\t\t\t\t\t\t\t<span className=\"drag-handlebar \">\r\n\t\t\t\t\t\t\t\t\t\t\t<Icon ice type=\"move\" />\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t<Button.Group\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"dynamic-item-tools-button\"\r\n\t\t\t\t\t\t\t\t\t\t\ticonSize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Popup\r\n\t\t\t\t\t\t\t\t\t\t\t\ttrigger={(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonSize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => { this.setState({ visibleId: it.i }); }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Icon ice iconSize=\"xs\" type=\"set\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttriggerType=\"click\"\r\n\t\t\t\t\t\t\t\t\t\t\t\thasMask\r\n\t\t\t\t\t\t\t\t\t\t\t\tvisible={it.i === visibleId}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"dynamic-form-config-popup\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<DynamicDropdown\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconfigSchema={getChild(it.child[0], formData)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tpath={['formData', it.child[0]]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonConfigSave={this.handleConfigSave}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonDropdownCancel={() => this.setState({ visibleId: -1 })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tformData={formData}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</Popup>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.handleDelClick(it, true)}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\t><Icon ice iconSize=\"xs\" type=\"ashbin\" />\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</Button.Group>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\t\t\t\t</Form>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\n\r\n","import React from 'react';\nimport logo from './logo.svg';\nimport DynamicForm from './components/DynamicForm';\nimport initJSON from './infectious.json'\n\nfunction App() {\n  return (\n    <DynamicForm initJSON={initJSON} canEditable ></DynamicForm>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}