(this.webpackJsonpzdynamicform=this.webpackJsonpzdynamicform||[]).push([[0],{108:function(e){e.exports=JSON.parse('{"formBoxKey":{"id":"FormStore606e202a-e883-4a57-8d4c-81fd7818159e","compactType":"vertical","cols":20,"rowHeight":30,"formWidth":1200,"marginHorizontal":"0","marginVertical":"20","dataSetInfo":{"dsCode":"DF07.00.01","dsVersion":1},"name":"demo\u6a21\u677f","type":"BoxContainer"},"formBoxData":[{"x":12,"y":1,"w":6,"h":1,"i":"1554794213609","child":["DFInput1554794213609"],"formMinW":12,"formMinH":1,"isUserMove":false,"moved":false,"static":false},{"x":0,"y":2,"w":10,"h":1,"i":"1554794332249","child":["DFSelect1554794332249"],"formMinW":12,"formMinH":1,"isUserMove":false,"moved":false,"static":false}],"formData":{"DFInput1554794213609":{"id":"DFInput1554794213609","fieldName":"userName","showFormName":"\u59d3\u540d","labelName":"\u59d3\u540d\uff1a","userDefinedWidth":200,"required":false,"type":"Input","defaultValue":[],"formValue":[],"formWidth":262,"formHeight":30,"formBoxKey":"1554794213609"},"DFSelect1554794332249":{"id":"DFSelect1554794332249","fieldName":"genderCode","showFormName":"\u6027\u522b","labelName":"\u6027\u522b\uff1a","userDefinedWidth":"100","dataSource":[],"required":true,"requestUrl":"/path/to/data","mainCode":"some-query ","showSearch":true,"type":"Select","defaultValue":[],"formValue":[],"formWidth":262,"formHeight":30,"formBoxKey":"1554794332249","eventInfo":{"eventBehavior":[{"visible":true,"key":1585821556053,"comparator":"==","disabled":false,"bindVal":["1"],"bindElId":["DFInput1554794213609"],"bindEvent":"clear"}]}}}}')},110:function(e,a,t){e.exports=t(251)},115:function(e,a,t){},116:function(e,a,t){e.exports=t.p+"static/media/logo.5d5d9eef.svg"},183:function(e,a,t){},230:function(e,a,t){},250:function(e,a,t){},251:function(e,a,t){"use strict";t.r(a);var n=t(1),o=t.n(n),r=t(10),i=t.n(r),l=(t(115),t(116),t(14)),c=t(19),d=t(15),m=t(42),f=t(43),s=t(44),u=t(45),p=t(258),h=t(256),v=t(18),b=t(25),y=t(255),g=t(259),N=t(109),S=t(23),E=t(252),C=t(20),w=t(11),D=t(254),O=(t(117),t(86),t(21),t(46),t(129),t(131),t(31),t(53),t(133),t(138),t(88),t(141),t(64),t(145),t(147),t(87),t(105)),x=t.n(O),B=t(7),I=t.n(B),k=t(52),j=t(260),F=t(253),L=t(261),V=t(83),W=t(26),M=(t(183),V.a.Row),H=V.a.Col,T=[{label:"\u6e05\u7a7a\u8868\u5355",value:"clear"},{label:"\u542f\u7528\u8868\u5355",value:"enabled"},{label:"\u663e\u793a\u8868\u5355",value:"show"},{label:"\u9690\u85cf\u8868\u5355",value:"hidden"},{label:"\u91cd\u65b0\u8bf7\u6c42\u5e76\u643a\u5e26 params",value:"requestUrlWithParams"}],P=[{label:"===",value:"==="},{label:"==",value:"=="},{label:"!==",value:"!=="}],q=function(e){Object(u.a)(t,e);var a=Object(s.a)(t);function t(e){var n;Object(m.a)(this,t),(n=a.call(this,e)).handleEventBehaviorChange=function(e){var a=n.state.eventInfo;n.setState({eventInfo:Object(d.a)({},a,{eventBehavior:e})})},n.handleAddClick=function(){var e=Date.now(),a=n.state.eventInfo,t=(a=void 0===a?{}:a).eventBehavior,o=void 0===t?[]:t;n.handleEventBehaviorChange([].concat(Object(c.a)(o),[{visible:!0,key:e,comparator:"===",disabled:!1}]))},n.handleDelClick=function(e){var a=n.state.eventInfo,t=(a=void 0===a?{}:a).eventBehavior,o=void 0===t?[]:t;n.handleEventBehaviorChange([].concat(Object(c.a)(o.slice(0,e)),Object(c.a)(o.slice(e+1))))},n.formChange=function(e){var a=e.eventBehavior;n.handleEventBehaviorChange(a)},n.handleEventDialogClose=function(){},n.handleOk=function(){n.formEl.validateFields;var e=n.props.onEventSave,a=n.state,t=a.eventInfo,o=a.eventInfo.eventBehavior;(void 0===o?[]:o).every((function(e){return["bindVal","bindElId","bindEvent"].every((function(a){return e[a]}))}))?(e({eventInfo:t}),n.handleClose()):N.a.warning("\u8bf7\u68c0\u67e5\u540e\u63d0\u4ea4")},n.handleCancel=function(){g.a.show({title:"\u53d6\u6d88\u7f16\u8f91",content:"\u662f\u5426\u53d6\u6d88\u7f16\u8f91",onOk:n.handleClose})},n.handleClose=function(){var e=n.props.dialogProps;(0,(e=void 0===e?{}:e).onCancel)()};var o=e.eventInfo,r=(o=void 0===o?{}:o).eventBehavior,i=void 0===r?[]:r;return n.state={eventInfo:{eventBehavior:i}},n}return Object(f.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,a=this.state,t=a.eventInfo,n=void 0===t?{}:t,r=a.eventInfo,i=(r=void 0===r?{}:r).eventBehavior,l=void 0===i?[]:i,d=this.props,m=d.formData,f=void 0===m?{}:m,s=d.editData,u=s.dataSource,p=void 0===u?[]:u,h=s.id,v=d.dialogProps,b=Object.entries(f).filter((function(e){return e[0]!==h&&!e[1].id.includes("DFGroupArea")})).map((function(e){return{value:e[0],label:"".concat(e[1].fieldName,"  |  ").concat(e[0])}}));return o.a.createElement(g.a,Object.assign({},v,{onOk:this.handleOk,onCancel:this.handleCancel}),o.a.createElement(W.FormBinderWrapper,{value:n,onChange:this.formChange,ref:function(a){e.formEl=a}},o.a.createElement("div",{className:"dynamic-form-event-option"},0===l.length&&o.a.createElement("div",{style:{textAlign:"center"}},"\u6dfb\u52a0\u4e8b\u4ef6",o.a.createElement(w.a,{size:"small",type:"add",className:"operation-icon",onClick:function(){return e.handleAddClick(-1)}})),l.map((function(a,t){return o.a.createElement(M,{key:a.key,className:"dynamic-form-event-option-row"},o.a.createElement(H,{className:"option-input",span:"4"},"\u6bd4\u8f83\u7b26\uff1a",o.a.createElement(W.FormBinder,{name:"eventBehavior[".concat(t,"].comparator")},o.a.createElement(y.a,{dataSource:P.map((function(e){return{value:e.value,label:e.value}})),className:"event-option-select",hiddenSelected:!0,hasArrow:!0,style:{width:80,minWidth:80}}))),o.a.createElement(H,{className:"option-input",span:"5"},"\u503c\u4e3a\uff1a",o.a.createElement(W.FormBinder,{required:!0,name:"eventBehavior[".concat(t,"].bindVal"),message:"\u8bf7\u9009\u62e9\u7ed1\u5b9a\u7684\u503c"},o.a.createElement(y.a,{mode:"tag",dataSource:[{value:"dynamicFormMatchAll",label:"\u6240\u6709\u503c\u5339\u914d"}].concat(Object(c.a)(p.map((function(e){return{value:e.value,label:e.value}})))),className:"event-option-select",hiddenSelected:!0,hasArrow:!0,style:{width:150}})),o.a.createElement(W.FormError,{name:"eventBehavior[".concat(t,"].bindVal"),style:{display:"block"}})),o.a.createElement(H,{className:"option-input",span:"9"},"\u5143\u7d20\uff1a",o.a.createElement(W.FormBinder,{required:!0,name:"eventBehavior[".concat(t,"].bindElId"),message:"\u8bf7\u9009\u62e9\u7ed1\u5b9a\u7684\u5143\u7d20"},o.a.createElement(y.a,{mode:"multiple",dataSource:b,className:"event-option-select",hiddenSelected:!0,showSearch:!0,style:{width:280}})),o.a.createElement(W.FormError,{name:"eventBehavior[".concat(t,"].bindElId"),style:{display:"block"}})),o.a.createElement(H,{span:"4",className:"line-height-28"},"\u4e8b\u4ef6\uff1a",o.a.createElement(W.FormBinder,{required:!0,name:"eventBehavior[".concat(t,"].bindEvent"),message:"\u8bf7\u9009\u62e9\u7ed1\u5b9a\u4e8b\u4ef6"},o.a.createElement(y.a,{dataSource:T,className:"event-option-select event-option-events",hiddenSelected:!0})),o.a.createElement(W.FormError,{name:"eventBehavior[".concat(t,"].bindEvent"),style:{display:"block"}})),o.a.createElement(H,{span:"2"},o.a.createElement("div",{className:"operation-group"},l.length>0&&o.a.createElement(w.a,{type:"minus",size:"small",className:"operation-icon",onClick:function(){return e.handleDelClick(t)}}),t===l.length-1&&o.a.createElement(w.a,{size:"small",type:"add",className:"operation-icon",onClick:function(){return e.handleAddClick(t)}}))))})))))}}]),t}(n.Component),A=(t(230),h.a.Item),K=k.a.Group,J=j.a.Panel,U={labelCol:{span:6},wrapperCol:{span:16}},R=function(e){return Object.keys(e).reduce((function(a,t){return Object(d.a)({},a,Object(l.a)({},t,null===e[t]?"":e[t]))}),{})},z=F.a.Column,G=function(){return[{component:b.a,fieldLabel:"\u6807\u7b7e\u5bbd\u5ea6",fieldName:"labelWidth",props:{}},{component:y.a,fieldLabel:"\u6807\u7b7e\u5bf9\u9f50\u65b9\u5f0f",fieldName:"formLabelAlign",props:{dataSource:[{value:"left",label:"left"},{value:"center",label:"center"},{value:"right",label:"right"}]}}]},X={title:"\u57fa\u672c\u4fe1\u606f",formList:[{component:b.a,fieldLabel:"\u8868\u5355 ID",fieldName:"id",props:{}},{component:b.a,fieldLabel:"\u7ed1\u5b9a\u5b57\u6bb5\u540d",fieldName:"fieldName",props:{},formItemProps:{required:!0}},{component:b.a,fieldLabel:"\u8868\u5355\u540d\u79f0",fieldName:"showFormName",props:{}},{component:b.a,fieldLabel:"\u6807\u7b7e",fieldName:"labelName",props:{}}].concat(Object(c.a)(G()),[{component:b.a,fieldLabel:"\u6821\u9a8c\u63d0\u793a\u540d",fieldName:"validateTipName",props:{placeholder:"\u9ed8\u8ba4\u4e3a\u6807\u7b7e\u5b57\u6bb5\u53bb\u7279\u6b8a\u7b26\u53f7"}},{component:b.a,fieldLabel:"\u5bbd\u5ea6",fieldName:"userDefinedWidth",props:{}},{component:K,fieldLabel:"\u5bb9\u5668\u8fb9\u6846\u8bbe\u7f6e",fieldName:"formBorder",props:{dataSource:[{value:0,label:"\u4e0a"},{value:1,label:"\u53f3"},{value:2,label:"\u4e0b"},{value:3,label:"\u5de6"}]}},{component:b.a,fieldLabel:"\u5e2e\u52a9\u4fe1\u606f",fieldName:"help",props:{}},{component:b.a,fieldLabel:"placeholder",fieldName:"placeholder",props:{}},{component:b.a,fieldLabel:"\u5907\u6ce8",fieldName:"formRemarkInfo",props:{disabled:!0}}])},Y=function(e){Object(u.a)(t,e);var a=Object(s.a)(t);function t(e){var n;Object(m.a)(this,t),(n=a.call(this,e)).formChange=function(e){n.setState({editData:Object(d.a)({},e)})},n.handleEventDialogClose=function(){n.setState({eventDialogVisible:!1})},n.handleSave=function(e,a){var t=n.props,o=t.onConfigSave,r=t.path,i=t.onDropdownCancel,l=t.formData,c=void 0===l?{}:l,d=n.state,m=d.editData,f=d.editData,s=f.fieldName,u=f.id,p=Object.values(c),h=s&&p.find((function(e){return e.fieldName===s&&e.id!==u}));Object.values(a||{}).length?N.a.warning("\u5b58\u5728\u4e0d\u5408\u6cd5\u5b57\u6bb5\uff0c\u8bf7\u68c0\u67e5\u540e\u63d0\u4ea4"):h?N.a.warning("fieldName \u91cd\u590d\uff0c\u8bf7\u4fee\u6539"):(o(m,r),N.a.success("\u4fee\u6539\u6210\u529f"),i())},n.handleCancel=function(){(0,n.props.onDropdownCancel)()},n.handleEventSave=function(e){var a=n.state.editData;n.formChange(Object(d.a)({},a,{},e))};var o=e.configSchema;return n.state={editData:R(o),eventDialogVisible:!1},n}return Object(f.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.configSchema;this.setState({editData:R(e)})}},{key:"render",value:function(){var e=this,a=this.props,t=a.formItemLayout,n=a.configSchema.type,r=a.formData,i=a.injectComponent,l=void 0===i?[]:i,m=this.state,f=m.editData,s=m.editData.eventInfo,u=void 0===s?{}:s,p=m.eventDialogVisible,v=[],g=l.find((function(e){return e.type===n}));if(g){var S=g.config;v=[X].concat((void 0===S?function(){}:S)()||[])}else{var E=function(a,t){var n=a.eventInfo,r=(n=void 0===n?{}:n).eventBehavior,i=void 0===r?[]:r,l=document.querySelectorAll(".dynamic-category-anchor-menu");l.length>1&&N.a.warning("\u9875\u9762\u4e2d\u6709\u591a\u4e2a\u76ee\u5f55\uff0c\u8bf7\u624b\u52a8\u786e\u8ba4\u540e\u7ed1\u5b9a\u4f4d\u7f6e");var d=l[0],m=d&&d.getBoundingClientRect()||{},f=(m.left,m.top,{component:F.a,props:{dataSource:i,children:[{title:"\u6bd4\u8f83\u7b26",dataIndex:"comparator",width:50},{title:"\u7ed1\u5b9a\u503c",dataIndex:"bindVal",cell:function(e){return e.map((function(e){return o.a.createElement("div",{key:e},e)}))}},{title:"\u7ed1\u5b9a Id",dataIndex:"bindElId",width:200,cell:function(e){return e.map((function(e){return o.a.createElement("span",{key:e},t[e].fieldName,o.a.createElement("span",{style:{color:"red"}}," | "),e)}))}},{title:"\u4e8b\u4ef6",dataIndex:"bindEvent"}].map((function(e){return o.a.createElement(z,Object.assign({key:e.title},e))}))},key:"eventOption"});return{Input:[{title:"\u57fa\u672c\u4fe1\u606f",formList:[{component:b.a,fieldLabel:"\u8868\u5355 ID",fieldName:"id",props:{}},{component:b.a,fieldLabel:"\u7ed1\u5b9a\u5b57\u6bb5\u540d",fieldName:"fieldName",props:{},formItemProps:{required:!0}},{component:b.a,fieldLabel:"\u8868\u5355\u540d\u79f0",fieldName:"showFormName",props:{}},{component:b.a,fieldLabel:"\u6807\u7b7e",fieldName:"labelName",props:{}}].concat(Object(c.a)(G()),[{component:b.a,fieldLabel:"\u6821\u9a8c\u63d0\u793a\u540d",fieldName:"validateTipName",props:{placeholder:"\u9ed8\u8ba4\u4e3a\u6807\u7b7e\u5b57\u6bb5\u53bb\u7279\u6b8a\u7b26\u53f7"}},{component:b.a,fieldLabel:"\u5bbd\u5ea6",fieldName:"userDefinedWidth",props:{}},{component:K,fieldLabel:"\u5bb9\u5668\u8fb9\u6846\u8bbe\u7f6e",fieldName:"formBorder",props:{dataSource:[{value:0,label:"\u4e0a"},{value:1,label:"\u53f3"},{value:2,label:"\u4e0b"},{value:3,label:"\u5de6"}]}},{component:b.a,fieldLabel:"\u5e2e\u52a9\u4fe1\u606f",fieldName:"help",props:{}},{component:b.a,fieldLabel:"placeholder",fieldName:"placeholder",props:{}},{component:b.a,fieldLabel:"\u5907\u6ce8",fieldName:"formRemarkInfo",props:{}}])},{title:"\u5f55\u5165\u63a7\u5236",formList:[{component:k.a,fieldLabel:" \u5fc5\u586b",fieldName:"required",props:{}},{component:k.a,fieldLabel:"\u662f\u5426\u53ea\u8bfb",fieldName:"readOnly",props:{}},{component:k.a,fieldLabel:"\u662f\u5426\u7981\u7528",fieldName:"disabled",props:{}},{component:b.a,fieldLabel:"\u9ed8\u8ba4\u503c",fieldName:"defaultValue",props:{}},{component:k.a,fieldLabel:"\u591a\u884c",fieldName:"multiple",props:{}},{component:y.a,fieldLabel:"\u540c\u6b65\u5143\u7d20",fieldName:"DFTextFontWeightVal",props:{}},{component:y.a,fieldLabel:"\u9ed8\u8ba4\u503c",fieldName:"DFTextFontStyleVal",props:{}},{component:y.a,fieldLabel:"\u6570\u636e\u683c\u5f0f",fieldName:"format",props:{dataSource:[{value:"number",label:"\u7eaf\u6570\u5b57"},{value:"email",label:"\u90ae\u7bb1"},{value:"url",label:"\u7f51\u7ad9\u5730\u5740"},{value:"tel",label:"\u8054\u7cfb\u65b9\u5f0f"},{value:"isString",label:"\u5b57\u7b26\u4e32"},{value:"isPositiveInteger",label:"\u6b63\u6574\u6570"},{value:"keepOneDecimal",label:"\u4fdd\u7559\u4e00\u4f4d\u5c0f\u6570"},{value:"keepTwoDecimal",label:"\u4fdd\u7559\u4e24\u4f4d\u5c0f\u6570"},{value:"keepThreeDecimal",label:"\u4fdd\u7559\u4e09\u4f4d\u5c0f\u6570"},{value:"isMobileNum",label:"\u624b\u673a\u53f7"},{value:"isIDNum",label:"\u8eab\u4efd\u8bc1\u53f7"}]}}]}],Select:[{title:"\u57fa\u672c\u4fe1\u606f",formList:[{component:b.a,fieldLabel:"\u8868\u5355 ID",fieldName:"id",props:{}},{component:b.a,fieldLabel:"\u7ed1\u5b9a\u5b57\u6bb5\u540d",fieldName:"fieldName",props:{},formItemProps:{required:!0}},{component:b.a,fieldLabel:"\u8868\u5355\u540d\u79f0",fieldName:"showFormName",props:{}},{component:b.a,fieldLabel:"\u6807\u7b7e",fieldName:"labelName",props:{}}].concat(Object(c.a)(G()),[{component:b.a,fieldLabel:"\u6821\u9a8c\u63d0\u793a\u540d",fieldName:"validateTipName",props:{placeholder:"\u9ed8\u8ba4\u4e3a\u6807\u7b7e\u5b57\u6bb5\u53bb\u7279\u6b8a\u7b26\u53f7"}},{component:b.a,fieldLabel:"\u5bbd\u5ea6",fieldName:"userDefinedWidth",props:{}},{component:K,fieldLabel:"\u5bb9\u5668\u8fb9\u6846\u8bbe\u7f6e",fieldName:"formBorder",props:{dataSource:[{value:0,label:"\u4e0a"},{value:1,label:"\u53f3"},{value:2,label:"\u4e0b"},{value:3,label:"\u5de6"}]}},{component:b.a,fieldLabel:"\u5e2e\u52a9\u4fe1\u606f",fieldName:"help",props:{}},{component:b.a,fieldLabel:"placeholder",fieldName:"placeholder",props:{}},{component:b.a,fieldLabel:"\u5907\u6ce8",fieldName:"formRemarkInfo",props:{disabled:!0}}])},{title:"\u5f55\u5165\u63a7\u5236",formList:[{component:k.a,fieldLabel:" \u5fc5\u586b",fieldName:"required",props:{}},{component:k.a,fieldLabel:"\u662f\u5426\u53ea\u8bfb",fieldName:"readOnly",props:{}},{component:k.a,fieldLabel:"\u662f\u5426\u7981\u7528",fieldName:"disabled",props:{}},{component:b.a,fieldLabel:"\u8bf7\u6c42\u76f8\u5bf9\u8def\u5f84",fieldName:"requestUrl",props:{}},{component:b.a,fieldLabel:"mainCode",fieldName:"mainCode",props:{}},{component:k.a,fieldLabel:"\u6a21\u7cca\u67e5\u8be2",fieldName:"showSearch",props:{}},{component:k.a,fieldLabel:"\u672c\u5730\u7b5b\u9009",fieldName:"filterLocal",props:{}},{component:k.a,fieldLabel:"\u6e05\u9664\u6309\u94ae",fieldName:"hasClear",props:{}},{component:b.a,fieldLabel:"\u6570\u636e\u5143",fieldName:"DFTextColorVal",props:{}},{component:k.a,fieldLabel:"\u662f\u5426\u53c2\u4e0e\u8ba1\u7b97",fieldName:"isCount",props:{label:"\u5f00\u542f\u8ba1\u7b97\u540e\u9009\u9879\u7684\u503c\u90fd\u5e94\u4e3a\u6570\u5b57"}}]},{title:"\u6dfb\u52a0\u4e8b\u4ef6",formList:[{component:C.a,fieldLabel:"",fieldName:"addEvent",props:{children:"\u9009\u4e2d\u65f6",onClick:function(){e.setState({eventDialogVisible:!0})}}}]}].concat(Object(c.a)(i?[{title:"\u7ed1\u5b9a\u7684\u4e8b\u4ef6",formList:[f]}]:[])),BoxContainer:[{title:"\u52a8\u6001\u8868\u5355\u57fa\u672c\u8bbe\u7f6e",formList:[{component:b.a,fieldLabel:"id",fieldName:"id",props:{},formItemProps:{required:!0}},{component:y.a,fieldLabel:"\u5b9a\u4f4d\u6761\u4ef6\u4e0b\u6d6e\u52a8",fieldName:"compactType",props:{dataSource:[{label:"\u5782\u76f4\u5411\u4e0a",value:"vertical"},{label:"\u6c34\u5e73\u5411\u5de6",value:"horizontal"},{label:"\u4e0d\u6d6e\u52a8",value:null}]}},{component:y.a,fieldLabel:"\u6e32\u67d3\u5e03\u5c40",fieldName:"renderCompactType",props:{dataSource:[{label:"\u5b9a\u4f4d",value:"absolute"},{label:"\u6d6e\u52a8",value:"float"},{label:"inline-block",value:"inline-block"},{label:"block",value:"block"}],defaultValue:"absolute"}},{component:b.a,fieldLabel:"\u5217\u6570",fieldName:"cols",props:{},formItemProps:{format:"number",required:!0}},{component:b.a,fieldLabel:"\u884c\u9ad8",fieldName:"rowHeight",props:{},formItemProps:{format:"number",required:!0}},{component:b.a,fieldLabel:"\u5bbd\u5ea6",fieldName:"formWidth",props:{},formItemProps:{format:"number",required:!0}},{component:b.a,fieldLabel:"\u6c34\u5e73\u95f4\u9694",fieldName:"marginHorizontal",props:{},formItemProps:{format:"number",required:!0}},{component:b.a,fieldLabel:"\u5782\u76f4\u95f4\u9694",fieldName:"marginVertical",props:{},formItemProps:{format:"number",required:!0}},{component:b.a.TextArea,fieldLabel:"\u300cItem\u300d\u6837\u5f0f React Style JSON\uff08\u65e0\u524d\u540e\u5f15\u53f7\uff09",fieldName:"customItemContainerStyle",props:{multiple:!0}}]}]}}(f,r)[n];v=void 0===E?[]:E}var w=["BoxContainer","categoryAnchor"].every((function(e){return e!==n})),D=[{title:"\u5171\u6709\u914d\u7f6e",formList:[{component:y.a,fieldLabel:"\u53e6\u8d77\u4e00\u884c(\u6d6e\u52a8\u4e0b\u4f7f\u7528)",fieldName:"clear",props:{placeholder:"\u4ec5\u9650\u6d6e\u52a8\u5e03\u5c40\u4e0b\u4f7f\u7528",dataSource:[{value:"left",label:"clear:left \u53e6\u8d77\u4e00\u884c"}],hasClear:!0}},{component:k.a,fieldLabel:"\u9ed8\u8ba4\u9690\u85cf",fieldName:"hidden",props:{children:"\u9690\u85cf\u5143\u7d20\u7684\u9ad8\u5ea6\u4f1a\u88ab\u6e32\u67d3\u6210 1 \u4e2a\u884c\u9ad8"}},{component:L.a,fieldLabel:"\u5360\u636e\u300c\u884c\u300d\u6570\uff08\u7528\u4e8e\u663e\u9690\u8fd8\u539f\u9ad8\u5ea6\uff09",fieldName:"showRowHeight",props:{}},{component:b.a.TextArea,fieldLabel:"\u300c\u5bb9\u5668\u300d\u6837\u5f0f React Style JSON\uff08\u65e0\u524d\u540e\u5f15\u53f7\uff09",fieldName:"customContainerStyle",props:{multiple:!0}},{component:b.a.TextArea,fieldLabel:"\u7ec4\u4ef6\u989d\u5916 Props JSON",fieldName:"componentOtherProps",props:{multiple:!0}},{component:b.a.TextArea,fieldLabel:"formItem \u989d\u5916 Props JSON",fieldName:"formItemOtherProps",props:{multiple:!0}}]}];console.log(v,w?D:[]);var O=[].concat(Object(c.a)(v),Object(c.a)(w?D:[])).map((function(e){return o.a.createElement(J,{key:e.title,title:e.title},e.formList.map((function(e){return o.a.createElement(A,Object.assign({label:o.a.createElement("span",{style:{color:"#333"}},e.fieldLabel),key:e.key||e.fieldName},Object(d.a)({},U,{},t),e.formItemProps),o.a.createElement(e.component,Object.assign({name:e.fieldName||e.key},e.props)))})))}));return o.a.createElement("div",{className:"dynamic-dropdown"},o.a.createElement("div",{className:"dynamic-dropdown-form-wrapper"},o.a.createElement(h.a,{value:f,onChange:this.formChange,ref:function(a){e.formBinderEl=a},saveField:function(e){e.options.parseName=!0}},o.a.createElement("div",{className:"dynamic-dropdown-collapse-container"},o.a.createElement(j.a,{defaultExpandedKeys:v.map((function(e){return e.title}))},O)),o.a.createElement("div",{className:"dynamic-dropdown-action text-center"},o.a.createElement(h.a.Submit,{type:"primary",className:"save-cancel-button",validate:!0,onClick:this.handleSave},"\u4fdd\u5b58"),o.a.createElement(C.a,{type:"primary",className:"save-cancel-button",onClick:this.handleCancel},"\u5173\u95ed")))),o.a.createElement(q,{eventInfo:u,editData:f,formData:r,onEventSave:this.handleEventSave,dialogProps:{visible:p,onClose:this.handleEventDialogClose,onCancel:this.handleEventDialogClose,style:{width:1020},shouldUpdatePosition:!0,title:"\u7f16\u8f91\u4e8b\u4ef6"}}))}}]),t}(n.Component);Y.defaultProps={formData:{},injectComponent:[]};var _=Y,$=(t(257),function(){var e=function(e,t){return a(e.slice(),t)};function a(e,a){"function"!==typeof a&&(a=function(e,a){return String(e).localeCompare(a)});var n=e.length;if(n<=1)return e;for(var o=new Array(n),r=1;r<n;r*=2){t(e,a,r,o);var i=e;e=o,o=i}return e}e.inplace=function(e,n){var o=a(e,n);return o!==e&&t(o,null,e.length,e),e};var t=function(e,a,t,n){var o,r,i,l,c,d=e.length,m=0,f=2*t;for(o=0;o<d;o+=f)for(i=(r=o+t)+t,r>d&&(r=d),i>d&&(i=d),l=o,c=r;;)if(l<r&&c<i)a(e[l],e[c])<=0?n[m++]=e[l++]:n[m++]=e[c++];else if(l<r)n[m++]=e[l++];else{if(!(c<i))break;n[m++]=e[c++]}}}(),function(){var e={navClass:"active",contentClass:"active",nested:!1,nestedClass:"active",offset:0,reflow:!1,events:!0},a=function(e,a,t){if(t.settings.events){var n=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:t});a.dispatchEvent(n)}},t=function(e){var a=0;if(e.offsetParent)for(;e;)a+=e.offsetTop,e=e.offsetParent;return a>=0?a:0},n=function(e){e&&e.sort((function(e,a){return t(e.content)<t(a.content)?-1:1}))},o=function(e,a,t,n){var o=e.getBoundingClientRect(),r=n.getBoundingClientRect(),i=function(e){return"function"===typeof e.offset?parseFloat(e.offset()):parseFloat(e.offset)}(a);if(t){var l=n===document.documentElement?window.innerHeight||document.documentElement.clientHeight:r.bottom;return parseInt(o.bottom,10)<parseInt(l,10)}return parseInt(o.top,10)<=(n===document.documentElement?i:parseInt(r.top,10))},r=function(e,a){var t=e[e.length-1],n=a.scrollElement;if(function(e,a){var t,n=a.scrollElement;return!!(e&&(t=n,t.scrollTop+t.clientHeight>=function(e){return e.scrollHeight}(t))&&o(e.content,a,!0,n))}(t,a))return t;for(var r=e.length-1;r>=0;r--)if(o(e[r].content,a,!1,n))return e[r]},i=function(e,t){if(e){var n=e.nav.closest("li");n&&(n.classList.remove(t.navClass),e.content.classList.remove(t.contentClass),function e(a,t){if(t.nested){var n=a.parentNode.closest("li");n&&(n.classList.remove(t.nestedClass),e(n,t))}}(n,t),a("scrollSpyDeactivate",n,{link:e.nav,content:e.content,settings:t}))}}}(),function(e,a){for(var t=function e(a,t,n){for(var o=arguments.length,r=new Array(o>3?o-3:0),i=3;i<o;i++)r[i-3]=arguments[i];if(t===r.length)return n;var m=r[t];return Object.assign(Array.isArray(a)?Object(c.a)(a):Object(d.a)({},a),Object(l.a)({},m,e.apply(void 0,[a[m]||{},t+1,n].concat(r))))},n=arguments.length,o=new Array(n>2?n-2:0),r=2;r<n;r++)o[r-2]=arguments[r];return t.apply(void 0,[e,0,a].concat(o))}),Q=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"{}",t={};try{t=JSON.parse(e||a)}catch(n){console.error(t)}return t},Z=function(e,a){return a[e]},ee=function(e,a,t){return e===a?t:e},ae=function(e,a,t){if(a.includes("dynamicFormMatchAll"))return!0;var n=Array.isArray(e)?e:[e],o={"===":function(e){return n.some((function(a){return a===e}))},"==":function(e){return n.some((function(a){return a==e}))},"!==":function(e){return n.every((function(a){return a!==e}))}};return-1!==a.findIndex(o[t])},te=(t(250),p.a.Item),ne=h.a.Item,oe=v.a.Popup,re=function(e){Object(u.a)(t,e);var a=Object(s.a)(t);function t(e){var n;Object(m.a)(this,t),(n=a.call(this,e)).renderType=function(e,a){var t=n.state,r=t.editJSON,i=(r.formBoxKey.rowHeight,r.formData,t.isEditable,n.props),l=i.disabled,c=(i.canEditable,e.type),m=void 0===c?"Text":c,f=(e.formBorder,e.customStyle,e.DFTextColorVal,e.DFTextFontWeightVal,e.DFTextFontStyleVal,e.DFTextTextDecorationVal,e.placeholder),s=e.hidden,u=(e.help,e.componentOtherProps),p=(e.id,e.userDefinedWidth),h=e.fieldName,v=e.labelName,g=e.disabled,N=e.formItemOtherProps,S=e.required,E=e.validateTipName,C=void 0===E?(v||"").replace(/[:\uff1a]*/g,"").trim():E,w=e.readOnly,D=e.defaultValue,O=(e.itemDirection,e.eventInfo),x=(O=void 0===O?{}:O).eventBehavior,B=void 0===x?[]:x,k=(e.event,e.formLabelAlign),j=void 0===k?"left":k,F=e.labelWidth,L=l||g,V=parseInt(p||120,10),W=Q(u),M=Q(N),H="".concat(C," \u662f\u5fc5\u586b\u5b57\u6bb5"),T={_Input:{render:function(){var a=e.multiple,t=e.format;return{type:a?b.a.TextArea:b.a,props:{style:{width:parseInt(p,10)},hidden:s,name:h,multiple:a,readOnly:w,disabled:L,placeholder:f,defaultValue:D},formItemProp:Object(d.a)({required:S,requiredMessage:H},t?{format:t}:{})}}},_Select:{render:function(){var a=n.state.dataSource,t=(a=void 0===a?{}:a)["".concat(h,"DataSource")],o=void 0===t?[]:t,r=e.dataSource,i=e.showSearch,l=e.filterLocal,c=void 0!==l&&l,m=e.requestUrl,s=e.hasClear,u=void 0!==s&&s;return{type:y.a,props:Object(d.a)({dataSource:o.length?o:r.filter((function(e){return e.visible})),readOnly:w,name:h,disabled:L,showSearch:i},B.length?{onChange:function(a){return n.handleEventChange(a,e)}}:{},{},!1===c&&i&&m?{onSearch:function(a){return n.handleSearch(a,e)}}:{},{placeholder:f,filterLocal:c,hasClear:u,style:{width:V}}),formItemProp:{required:S,requiredMessage:H}}}}},P=(T["_".concat(m)]||T._Input).render(),q=P.type,A=P.props,K=P.formItemProp,J=F?{width:F}:{};return"DFRadio1554793985110"===e.id&&console.log(v,F,K),!s&&o.a.createElement(ne,Object.assign({label:v&&o.a.createElement("span",{style:Object(d.a)({textAlign:j},J),className:I()("display-inline-block","custom-label-wrapper")},v),className:I()({"form-item-with-custom-label":F}),labelAlign:"left"},K,M),o.a.createElement(q,Object.assign({},A,W)))},n.handleMenuItemClick=function(e){var a=n.state,t=a.editJSON.formBoxData,o=a.selectedKey;if(-1===t.findIndex((function(e){return e.i===o}))){var r=t.map((function(e){return e.y})),i=Math.max.apply(Math,Object(c.a)(r).concat([0]));n.addNewElItem({type:e,itemX:0,itemY:i+1})}else{var l=t.filter((function(e){return e.i===o}))[0],d=l.x,m=void 0===d?0:d,f=l.y,s=void 0===f?0:f;n.addNewElItem({type:e,itemX:m,itemY:s})}},n.addNewElItem=function(e){var a=e.type,t=e.left,o=e.top,r=e.itemX,i=e.itemY,l=n.state,m=l.editJSON,f=l.editJSON,s=f.formBoxData,u=f.formBoxKey,p=u.formWidth,h=u.rowHeight,v=u.cols,b=u.marginHorizontal,y=u.marginVertical,g=(u.compactType,u.containerPaddingHorizontal),N=void 0===g?b:g,S=(u.containerPaddingVertical,f.formData);if(!l.isEditable)return!1;if(void 0===r&&void 0===i){var E=n.calcXY({top:o,left:t,marginHorizontal:b,marginVertical:y,rowHeight:h,cols:v,containerPaddingHorizontal:N,formWidth:p});r=E.x,i=E.y}Date.now();var C=n.dropEl({type:a,itemX:r,itemY:i,rowHeight:h})||{},w=C.wrapper,D=C.layoutEl;w&&D&&n.setState({editJSON:Object(d.a)({},m,{formBoxData:[].concat(Object(c.a)(s),[w]),formData:Object(d.a)({},S,{},D)})})},n.dropEl=function(e){var a,t=e.type,o=e.itemX,r=e.itemY,i=e.rowHeight,c=e.containerItem,m=Date.now().toString(),f="DF".concat(t).concat(m);a=c?function(e){return Math.ceil(e/n.calcGridAreaColWidth(c))}:function(e){return Math.ceil(e/n.calcColWidth())};var s=function(e){return Math.ceil(e/i)},u=function(e){var t=e.wrapper,n=e.layoutEl,i=e.type;return{wrapper:Object(d.a)({x:o,y:r,w:a(320),h:s(30),i:m.toString(),child:[f],formMinW:12,formMinH:1,isUserMove:!1},t),layoutEl:Object(l.a)({},f,Object(d.a)({type:i,showFormName:"\u5ba2\u5236\u5316\u7ec4\u4ef6",labelName:"\u5ba2\u5236\u5316\u7ec4\u4ef6\uff1a",fieldName:f,defaultValue:"",formValue:[],required:!1,userDefinedWidth:200,formWidth:262,formHeight:30,id:f,formBoxKey:m.toString()},n))}},p={Text:function(){return{wrapper:{x:o,y:r,w:a(120),h:s(30),i:m.toString(),child:[f],formMinW:12,formMinH:1,isUserMove:!1},layoutEl:Object(l.a)({},f,{type:"Text",showFormName:"\u6587\u672c",labelName:"",textContent:"\u6587\u672c",fieldName:f,defaultValue:"",formValue:"",required:!1,userDefinedWidth:200,formWidth:262,formHeight:30,id:f,formBoxKey:m.toString()})}},TextFormItem:function(){return{wrapper:{x:o,y:r,w:a(120),h:s(30),i:m.toString(),child:[f],formMinW:12,formMinH:1,isUserMove:!1},layoutEl:Object(l.a)({},f,{type:"TextFormItem",showFormName:"\u6587\u672c\u8868\u5355",labelName:"\u6587\u672c\u8868\u5355\uff1a",fieldName:f,defaultValue:"",formValue:"",required:!1,userDefinedWidth:200,formWidth:262,formHeight:30,id:f,formBoxKey:m.toString()})}},Input:function(){return{wrapper:{x:o,y:r,w:a(320),h:s(30),i:m.toString(),child:[f],formMinW:12,formMinH:1,isUserMove:!1},layoutEl:Object(l.a)({},f,{type:"Input",showFormName:"\u6587\u672c\u6846",labelName:"\u6587\u672c\u6846\uff1a",fieldName:f,defaultValue:"",formValue:"",required:!1,userDefinedWidth:200,formWidth:262,formHeight:30,id:f,formBoxKey:m.toString()})}},Select:function(){return{wrapper:{x:o,y:r,w:a(320),h:s(30),i:m.toString(),child:[f],formMinW:12,formMinH:1,isUserMove:!1},layoutEl:Object(l.a)({},f,{type:"Select",showFormName:"\u4e0b\u62c9\u9009\u62e9",labelName:"\u6807\u7b7e\u540d\uff1a",fieldName:f,defaultValue:[],formValue:[],required:!1,userDefinedWidth:200,formWidth:262,formHeight:30,id:f,formBoxKey:m.toString(),dataSource:[]})}},Checkbox:function(){return{wrapper:{x:o,y:r,w:a(320),h:s(30),i:m.toString(),child:[f],formMinW:12,formMinH:1,isUserMove:!1},layoutEl:Object(l.a)({},f,{type:"Checkbox",showFormName:"Checkbox",labelName:"\u590d\u9009\u6846\uff1a",fieldName:f,defaultValue:[],formValue:[],required:!1,userDefinedWidth:200,formWidth:262,formHeight:30,id:f,formBoxKey:m.toString(),dataSource:[]})}},Radio:function(){return{wrapper:{x:o,y:r,w:a(320),h:s(30),i:m.toString(),child:[f],formMinW:12,formMinH:1,isUserMove:!1},layoutEl:Object(l.a)({},f,{type:"Radio",showFormName:"\u5355\u9009\u6846",labelName:"\u5355\u9009\u6846\uff1a",fieldName:f,defaultValue:"",formValue:[],required:!1,userDefinedWidth:200,formWidth:262,formHeight:30,id:f,formBoxKey:m.toString(),dataSource:[]})}},DatePicker:function(){return{wrapper:{x:o,y:r,w:a(320),h:s(30),i:m.toString(),child:[f],formMinW:12,formMinH:1,isUserMove:!1},layoutEl:Object(l.a)({},f,{type:"DatePicker",showFormName:"\u65e5\u671f\u9009\u62e9\u5668",labelName:"\u65e5\u671f\u9009\u62e9\u5668\uff1a",fieldName:f,required:!1,userDefinedWidth:200,formWidth:262,formHeight:30,id:f,formBoxKey:m.toString()})}},Calculation:function(){return{wrapper:{x:o,y:r,w:a(320),h:s(30),i:m.toString(),child:[f],formMinW:12,formMinH:1,isUserMove:!1},layoutEl:Object(l.a)({},f,{type:"Calculation",showFormName:"\u516c\u5f0f\u8ba1\u7b97",labelName:"\u516c\u5f0f\u8ba1\u7b97\uff1a",fieldName:f,defaultValue:"",formValue:"",required:!1,userDefinedWidth:200,formWidth:262,formHeight:30,id:f,formBoxKey:m.toString()})}},ScoreDialog:function(){return{wrapper:{x:o,y:r,w:a(320),h:s(30),i:m.toString(),child:[f],formMinW:12,formMinH:1,isUserMove:!1},layoutEl:Object(l.a)({},f,{type:"ScoreDialog",showFormName:"\u8bc4\u5206",labelName:"\u8bc4\u5206\uff1a",fieldName:f,defaultValue:"",formValue:"",userDefinedWidth:200,formWidth:262,formHeight:30,id:f,formBoxKey:m.toString(),disabled:!1})}},GroupArea:function(){return{wrapper:{x:o,y:r,w:a(320),h:s(120),i:m.toString(),child:[f],formMinW:12,formMinH:1,isUserMove:!1},layoutEl:Object(l.a)({},f,{type:"GroupArea",showFormName:"".concat(f," \u56fe\u5c42"),id:f,formBoxKey:m.toString(),gridAreaBoxKey:{compactType:"vertical",cols:20,rowHeight:30,formWidth:300,marginHorizontal:0,marginVertical:0},formBoxData:[]})}},Button:function(){return{wrapper:{x:o,y:r,w:a(320),h:s(30),i:m.toString(),child:[f],formMinW:12,formMinH:1,isUserMove:!1},layoutEl:Object(l.a)({},f,{type:"Button",showFormName:"\u6309\u94ae",textContent:"\u6309\u94ae",fieldName:f,formValue:"",required:!1,userDefinedWidth:200,formWidth:262,formHeight:30,id:f,formBoxKey:m.toString()})}},Tips:function(){return{wrapper:{x:o,y:r,w:a(120),h:s(30),i:m.toString(),child:[f],formMinW:12,formMinH:1,isUserMove:!1},layoutEl:Object(l.a)({},f,{type:"Tips",showFormName:"\u5e2e\u52a9",labelName:"",textContent:"\u5e2e\u52a9",fieldName:f,defaultValue:"",formValue:"",required:!1,userDefinedWidth:200,formWidth:262,formHeight:30,id:f,formBoxKey:m.toString()})}},Address:function(){return{wrapper:{x:o,y:r,w:a(600),h:s(60),i:m.toString(),child:[f],formMinW:12,formMinH:1,isUserMove:!1},layoutEl:Object(l.a)({},f,{type:"Address",showFormName:"\u5730\u5740",labelName:"\u5730\u5740\uff1a",fieldName:f,defaultValue:{},formValue:{},required:!1,userDefinedWidth:200,formWidth:262,formHeight:30,id:f,formBoxKey:m.toString()})}},Table:function(){return{wrapper:{x:o,y:r,w:a(600),h:s(120),i:m.toString(),child:[f],formMinW:12,formMinH:1,isUserMove:!1},layoutEl:Object(l.a)({},f,{type:"Table",showFormName:"\u8868\u683c",labelName:"\u8868\u683c\uff1a",fieldName:f,formValue:[],userDefinedWidth:400,formWidth:262,formHeight:30,id:f,formBoxKey:m.toString(),columns:[{disabled:!1,key:1554885920096,label:"\u60a3\u8005 id",value:"id",visible:!0},{disabled:!1,key:1554885920022,label:" \u60a3\u8005\u59d3\u540d",value:"name",visible:!0}]})}},CustomField:function(){return u({type:"CustomField",wrapper:{w:a(400)},layoutEl:{showFormName:"\u81ea\u5b9a\u4e49\u8868\u5355\u9879",labelName:"\u81ea\u5b9a\u4e49\u8868\u5355\u9879"}})},CustomRadioGroup:function(){return u({type:"CustomRadioGroup",wrapper:{},layoutEl:{showFormName:"\u5b9a\u5236 RadioGroup",labelName:"\u5b9a\u5236 RadioGroup"}})},CustomCheckboxGroup:function(){return u({type:"CustomCheckboxGroup",wrapper:{},layoutEl:{showFormName:"\u5b9a\u5236 CheckboxGroup",labelName:"\u5b9a\u5236 CheckboxGroup"}})}};return p[t]&&p[t]()},n.calcGridAreaColWidth=function(e){var a=e.gridAreaBoxKey,t=a.formWidth,n=void 0===t?300:t,o=a.marginHorizontal,r=void 0===o?0:o,i=a.containerPaddingHorizontal,l=void 0===i?0:i,c=a.cols,d=void 0===c?20:c;return(n-r*(d-1)-2*l)/d},n.calcColWidth=function(){var e=n.state.editJSON.formBoxKey,a=e.formWidth,t=e.cols,o=e.marginHorizontal,r=e.containerPaddingHorizontal;return(a-o*(t-1)-2*(void 0===r?o:r))/t},n.handleDelClick=function(e,a,t){var o=function(){var a=n.state,o=a.editJSON,r=a.editJSON,i=r.formData,c=r.formBoxData,m=a.selectedKey,f=e.child,s=Object.keys(i).reduce((function(e,a){return Object(d.a)({},e,{},f.includes(a)?{}:Object(l.a)({},a,i[a]))}),{}),u=c.filter((function(a){return a.i!==e.i}));if(t){var p=s[t].formBoxData.filter((function(a){return a.i!==e.i}));s=$(s,p,t,"formBoxData")}n.setState(Object(d.a)({editJSON:Object(d.a)({},o,{formBoxData:u,formData:s})},e.i===m?{selectedKey:-1}:{}))};a?g.a.confirm({title:"\u63d0\u793a",content:"\u662f\u5426\u786e\u8ba4\u5220\u9664",onOk:o}):o()},n.handleGridItemClick=function(e){var a=n.state.isEditable;n.props.canEditable&&a&&n.setState({selectedKey:e})},n.handleConfigSave=function(e,a){var t=n.state.editJSON,o=$.apply(void 0,[t,e].concat(Object(c.a)(a)));n.setState({editJSON:o}),n.saveDynamicFormJSON(o)},n.handleSearch=function(e,a){n.searchTimeout[a.id]&&clearTimeout(n.searchTimeout[a.id]);a.requestUrl,a.mainCode;var t=a.fieldName,o=a.queryParamsDataSource,r=void 0===o?[]:o,i=n.state,c=i.formValue,m=i.editJSON.formData;!function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2?arguments[2]:void 0;e.reduce((function(e,n){return Object(d.a)({},e,Object(l.a)({},n.label,ee(a[(t[n.value]||{}).fieldName])))}),{})}(r,c,void 0===m?{}:m);n.searchTimeout[a.id]=setTimeout((function(){var e,a,o=x.a.mock({"data|1-10":[{"value|+1":1}]});(e=o.data,a=300,new Promise((function(t,n){setTimeout((function(){t(e)}),a)}))).then((function(e){var a=n.state.dataSource;n.setState({dataSource:Object(d.a)({},a,Object(l.a)({},"".concat(t,"DataSource"),e))})}))}),100)},n.handleEventChange=function(e,a){var t=n.state.formValue,o=(void 0===t?{}:t)[a.fieldName]||[];n.handleEventDiffValueChange(e,o,a)},n.handleEventDiffValueChange=function(e,a,t,o){var r,i=t.eventInfo,c=(i=void 0===i?{}:i).eventBehavior,m=void 0===c?[]:c,f=t.fieldName,s=n.state.editJSON,u=n.state,p=u.editJSON,h=p.formData,v=p.formBoxData,b=u.formValue,y=n.handleEventBehavior({formValue:b,formData:h,preValue:a,currValue:e,eventBehavior:m,formBoxData:v,triggerType:"event"});h=y.formData,b=y.formValue,r=y.formBoxData,n.setState({editJSON:Object(d.a)({},s,{formData:h,formBoxData:r})}),n.state.formValue!==b||o?(n.state.formValue!==b||o)&&setTimeout((function(){n.handleFormChange(Object(d.a)({},b,Object(l.a)({},f,e)),{name:f,value:e,field:n.field})})):n.setState({formValue:Object(d.a)({},b,Object(l.a)({},f,e))})},n.handleEventBehavior=function(e){var a=e.formValue,t=e.formData,o=e.preValue,r=e.currValue,i=e.eventBehavior,l=e.formBoxData,c=e.triggerType,d=void 0===c?"event":c,m=a,f=t,s=l;return i.forEach((function(e){var a=e.bindVal,t=e.bindElId,i=e.bindEvent,c=e.comparator,u=void 0===c?"===":c,p=(ae(o,a,u),ae(r,a,u)),h={enabled:function(){f=p?n.generateNewFormDataByEvents(t,f,{disabled:!1}):n.generateNewFormDataByEvents(t,f,{disabled:!0})},clear:function(){p&&(m=n.generateNewFormValueByEvents(t,f,m,void 0))},requestUrlWithParams:function(){p&&"event"===d&&(m=n.generateNewFormValueByEvents(t,f,m,void 0),t.forEach((function(e){setTimeout((function(){n.handleSearch("",f[e])}))})))},show:function(){f=p?n.generateNewFormDataByEvents(t,f,{hidden:!1}):n.generateNewFormDataByEvents(t,f,{hidden:!0})},hidden:function(){p?(f=n.generateNewFormDataByEvents(t,f,{hidden:!0}),s=n.generateNewFormBoxDataByEvents(t,l,{h:1})):(f=n.generateNewFormDataByEvents(t,f,{hidden:!1}),s=n.generateNewFormBoxDataByEvents(t,l,(function(e){return{h:f[e].showRowHeight||1}})))}},v=Array.isArray(i)?i[0]:i;h[v]&&h[v]()})),{formValue:m,formData:f,formBoxData:s}},n.generateNewFormValueByEvents=function(e,a,t,n){return e.filter((function(e){return a[e]})).map((function(e){return a[e].fieldName})).reduce((function(e,a){return Object(d.a)({},e,Object(l.a)({},a,n))}),t)},n.handleFormChange=function(e,a){var t=n.props.onChange;n.setState({formValue:e},(function(){t&&t(e,a,a.field.validate)}))},n.saveDynamicFormJSON=function(e){localStorage.setItem("dynamicForm",JSON.stringify(e))},n.handleSaveClick=function(e){var a=n.state.editJSON,t={save:function(){},export:function(){var e=JSON.stringify(a),t=new Blob([e],{type:"application/json;charset=utf-8"}),n=document.createElement("a");n.download="dynamic-form.json",n.href=URL.createObjectURL(t),document.body.appendChild(n),n.click(),n.remove()},import:function(){}};t[e]&&t[e]()},n.beforeImport=function(e){return new Promise((function(a,t){var o=new FileReader;o.onload=function(){var e=o.result,r={};try{r=JSON.parse(e),n.setState({editJSON:r,selectedKey:-1}),a(),N.a.success("\u5bfc\u5165\u6210\u529f")}catch(i){N.a.error("\u683c\u5f0f\u4e0d\u6b63\u786e\uff0c\u8bf7\u68c0\u67e5"),t()}},o.readAsText(e,{type:"application/json;charset=utf-8"})}))},n.handleTabsChange=function(e){n.setState({activeKey:e})};var r=e.value,i=e.initJSON;n.state={editJSON:i,isEditable:!0,selectedKey:-1,formValue:r},n.clipBoard={};var f=n.state.editJSON.formBoxData;return n.layoutCache=f,n.scoreObj={},n.searchTimeout={},n}return Object(f.a)(t,[{key:"render",value:function(){var e=this,a=this.state,t=(a.editJSON,a.editJSON),n=t.formBoxData,r=t.formBoxKey,i=t.formBoxKey,c=i.id,m=(i.formWidth,i.rowHeight,i.cols,i.marginHorizontal,i.marginVertical,i.compactType,i.renderCompactType,i.containerPaddingHorizontal,i.containerPaddingVertical,i.customItemContainerStyle),f=t.formData,s=a.isEditable,u=a.selectedKey,v=a.visibleId,b=a.formValue,y=a.activeKey,g=Q(m),N=g.borderColor,O=this.props.canEditable;return o.a.createElement("div",{className:I()({"dynamic-form":!0,"dynamic-form-editable":O&&s}),"data-dynamic-form-id":c,ref:function(a){e.dynamicFormEl=a}},O&&s&&o.a.createElement("div",{className:"drag-component-box"},o.a.createElement("div",{className:"drag-component-bar"},"control panel"),o.a.createElement(p.a,{shape:"wrapped",onChange:this.handleTabsChange,activeKey:y},[{title:"\u57fa\u7840\u7ec4\u4ef6",key:0,dataSource:["Text","TextFormItem","Input","Select","Checkbox","Radio","DatePicker","Calculation","ScoreDialog","GroupArea","Table","Button","Tips","CustomRadioGroup","CustomCheckboxGroup"]},{title:"\u4e1a\u52a1\u7ec4\u4ef6",key:1,dataSource:["Address","CustomField"]}].map((function(a){return o.a.createElement(te,{title:a.title,key:a.key,style:{background:"#FFF",marginRight:"-1px",width:"100px"}},o.a.createElement(S.a,{style:{width:200},className:"customize-limit",onItemClick:e.handleMenuItemClick},a.dataSource.map((function(e){return o.a.createElement(S.a.Item,{onDragStart:function(a){a.dataTransfer.setData("dynamic-type",e)},draggable:"true",key:e,style:{background:"Input"===e||"Select"===e?"aqua":"#FFF"}},e)}))))})))),O&&o.a.createElement("div",null,o.a.createElement("div",{className:"dynamic-form-tools"},o.a.createElement(E.a,{unCheckedChildren:"\u7f16\u8f91",checkedChildren:"\u9884\u89c8",onChange:function(a){e.setState({isEditable:!a})},style:{width:80,margin:6,verticalAlign:"middle"}}),s&&o.a.createElement(oe,{trigger:o.a.createElement(C.a,{type:"primary",onClick:function(){e.setState({visibleId:"0"})}},o.a.createElement(w.a,{ice:!0,type:"set",iconSize:"small"}),"\u8868\u5355\u8bbe\u8ba1"),triggerType:"click",hasMask:!0,visible:"0"===v,className:"dynamic-form-config-popup"},o.a.createElement("div",null,o.a.createElement(_,{configSchema:r,path:["formBoxKey"],onConfigSave:this.handleConfigSave,onDropdownCancel:function(){return e.setState({visibleId:-1})}}))),o.a.createElement(C.a,{style:{margin:"0 10px"},onClick:function(){return e.handleSaveClick("export")},type:"primary"},"\u5bfc\u51fa\u6570\u636e"),o.a.createElement(D.a,{accept:"application/json",beforeUpload:this.beforeImport,style:{display:"inline-block",verticalAlign:"middle"}},o.a.createElement(C.a,{type:"primary"},"\u5bfc\u5165\u6570\u636e")))),o.a.createElement(h.a,{value:b,onChange:this.handleFormChange,saveField:function(a){e.field=a}},n.map((function(a,t){var n=Z(a.child[0],f),r=n.formBorder,i=void 0===r?[]:r,c=n.id,m=n.clear,p=function(e,a,t){var n=t.settingColor,o=void 0===n?"#00b7eb":n,r=t.renderColor,i={0:"Top",1:"Right",2:"Bottom",3:"Left"},c="1px solid ".concat(a?void 0===r?"#666":r:o);return e.reduce((function(e,a){return Object(d.a)({},e,Object(l.a)({},"border".concat(i[a]),c))}),{})}(i,!O||!s,{settingColor:"#00b7eb",renderColor:N}),h=m?{clear:m}:{},b=Object(d.a)({},g,{},p,{},Q(n.customContainerStyle),{},h);return"DFRadio1554793985110"===a.child[0]&&console.log(b),o.a.createElement("div",{key:a.i,className:I()({"dynamic-react-grid-item":!0,"dynamic-react-grid-selected-item":a.i===u}),style:b,id:c,onClick:function(){return e.handleGridItemClick(a.i)}},e.renderType(n,t),O&&s&&o.a.createElement("div",{className:"dynamic-item-tools"},o.a.createElement("span",{className:"drag-handlebar "},o.a.createElement(w.a,{ice:!0,type:"move"})),o.a.createElement(C.a.Group,{className:"dynamic-item-tools-button",iconSize:"small"},o.a.createElement(oe,{trigger:o.a.createElement(C.a,{type:"primary",iconSize:"small",onClick:function(){e.setState({visibleId:a.i})}},o.a.createElement(w.a,{ice:!0,iconSize:"xs",type:"set"})),triggerType:"click",hasMask:!0,visible:a.i===v,className:"dynamic-form-config-popup"},o.a.createElement("div",null,o.a.createElement(_,{configSchema:Z(a.child[0],f),path:["formData",a.child[0]],onConfigSave:e.handleConfigSave,onDropdownCancel:function(){return e.setState({visibleId:-1})},formData:f}))),o.a.createElement(C.a,{onClick:function(){return e.handleDelClick(a,!0)},type:"primary"},o.a.createElement(w.a,{ice:!0,iconSize:"xs",type:"ashbin"})))))}))))}}]),t}(n.Component),ie=t(108);var le=function(){return o.a.createElement(re,{initJSON:ie,canEditable:!0})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(le,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[110,1,2]]]);
//# sourceMappingURL=main.f4933713.chunk.js.map